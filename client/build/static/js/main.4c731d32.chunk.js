(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{336:function(e,t,a){},337:function(e,t,a){},553:function(e,t,a){},555:function(e,t,a){"use strict";a.r(t),a.d(t,"history",(function(){return ui}));var n=a(0),i=a.n(n),r=a(28),s=a.n(r),c=(a(336),a(337),a(31)),o=a(4),l=a(133),d=a(39),u=a(14),p=a(7),j=a.n(p),h=a(15),b=a(19),O=a(29),m=a(173),_=a(598),f=a(609),x=a(610),v=a(600),g=a(626),y=a(607),S=a(620),T=a(599),C="REGISTER_USER_REQUEST",E="REGISTER_USER_SUCCESS",D="REGISTER_USER_FAILURE",I="LOGIN_USER_REQUEST",N="LOGIN_USER_SUCCESS",A="LOGIN_USER_FAILURE",R="GET_AUTH_REQUEST",M="GET_AUTH_SUCCESS",U="GET_AUTH_FAILURE",k="LOGOUT_USER_REQUEST",V="LOGOUT_USER_SUCCESS",P="LOGOUT_USER_FAILURE",w="FORGOT_PASSWORD_REQUEST",L="FORGOT_PASSWORD_SUCCESS",F="FORGOT_PASSWORD_FAILURE",B=a(296),z=a.n(B),Y=a(134),H={isAuthenticated:!1,isLoading:!1,user:{},userID:0,users:[],token:null,resetPasswordtoken:null},q="ADD_ACTION_REQUEST",G="ADD_ACTION_SUCCESS",Q="ADD_ACTION_FAILURE",W="FETCH_ACTIONS_REQUEST",K="FETCH_ACTIONS_SUCCESS",J="FETCH_ACTIONS_FAILURE",X="FETCH_LAST_ACTION_REQUEST",Z="FETCH_LAST_ACTION_SUCCESS",$="FETCH_LAST_ACTION_FAILURE",ee="FETCH_ACTION_BY_ID_REQUEST",te="FETCH_ACTION_BY_ID_SUCCESS",ae="FETCH_ACTION_BY_ID_FAILURE",ne="FETCH_ACTION_BY_USER_ID_REQUEST",ie="FETCH_ACTION_BY_USER_ID_SUCCESS",re="FETCH_ACTION_BY_USER_ID_FAILURE",se="FETCH_ACTION_BY_USER_POSITION_REQUEST",ce="FETCH_ACTION_BY_USER_POSITION_SUCCESS",oe="FETCH_ACTION_BY_USER_POSITION_FAILURE",le="FETCH_ACTION_BY_STATUS_REQUEST",de="FETCH_ACTION_BY_STATUS_SUCCESS",ue="FETCH_ACTION_BY_STATUS_FAILURE",pe="FETCH_VM_ACTIONS_BY_USER_ID_REQUEST",je="FETCH_VM_ACTIONS_BY_USER_ID_SUCCESS",he="FETCH_VM_ACTIONS_BY_USER_ID_FAILURE",be="FETCH_VM_VALIDATED_ACTIONS_BY_USER_ID_REQUEST",Oe="FETCH_VM_VALIDATED_ACTIONS_BY_USER_ID_SUCCESS",me="FETCH_VM_VALIDATED_ACTIONS_BY_USER_ID_FAILURE",_e="FETCH_DSM_VALIDATED_ACTIONS_BY_USER_ID_REQUEST",fe="FETCH_DSM_VALIDATED_ACTIONS_BY_USER_ID_SUCCESS",xe="FETCH_DSM_VALIDATED_ACTIONS_BY_USER_ID_FAILURE",ve="FETCH_CDP_VALIDATED_ACTIONS_BY_USER_ID_REQUEST",ge="FETCH_CDP_VALIDATED_ACTIONS_BY_USER_ID_SUCCESS",ye="FETCH_CDP_VALIDATED_ACTIONS_BY_USER_ID_FAILURE",Se="FETCH_DSM_REJECTED_ACTIONS_BY_USER_ID_REQUEST",Te="FETCH_DSM_REJECTED_ACTIONS_BY_USER_ID_SUCCESS",Ce="FETCH_DSM_REJECTED_ACTIONS_BY_USER_ID_FAILURE",Ee="FETCH_CDP_REJECTED_ACTIONS_BY_USER_ID_REQUEST",De="FETCH_CDP_REJECTED_ACTIONS_BY_USER_ID_SUCCESS",Ie="FETCH_CDP_REJECTED_ACTIONS_BY_USER_ID_FAILURE",Ne="FETCH_SPEAKER_ACTIONS_BY_USER_ID_REQUEST",Ae="FETCH_SPEAKER_ACTIONS_BY_USER_ID_SUCCESS",Re="FETCH_SPEAKER_ACTIONS_BY_USER_ID_FAILURE",Me="DELETE_ACTION_BY_ID_REQUEST",Ue="DELETE_ACTION_BY_ID_SUCCESS",ke="DELETE_ACTION_BY_ID_FAILURE",Ve={actions:[],actionsUser:[],VMActions:[],VMValidatedActions:[],validatedDSMActions:[],validatedCDPActions:[],rejectedDSMActions:[],rejectedCDPActions:[],speakerActions:[],notifications:[],lastAction:{},actionsByPosition:[],actionsByStatus:[],actionId:0,action:{},loading:!1},Pe=a(33),we="ADD_DOCTOR_REQUEST",Le="ADD_DOCTOR_SUCCESS",Fe="ADD_DOCTOR_FAILURE",Be="FETCH_DOCTORS_REQUEST",ze="FETCH_DOCTORS_SUCCESS",Ye="FETCH_DOCTORS_FAILURE",He="FETCH_INVITED_DOCTORS_REQUEST",qe="FETCH_INVITED_DOCTORS_SUCCESS",Ge="FETCH_INVITED_DOCTORS_FAILURE",Qe="FETCH_LAST_DOCTOR_REQUEST",We="FETCH_LAST_DOCTOR_SUCCESS",Ke="FETCH_LAST_DOCTOR_FAILURE",Je={doctors:[],invited_doctors:[],lastDoctor:{},isLoading:!1},Xe="ADD_LOCALISATION_REQUEST",Ze="ADD_LOCALISATION_SUCCESS",$e="ADD_LOCALISATION_FAILURE",et="FETCH_LOCALISATIONS_REQUEST",tt="FETCH_LOCALISATIONS_SUCCESS",at="FETCH_LOCALISATIONS_FAILURE",nt={localisations:[],isLoading:!1},it="FETCH_NOTIFICATIONS_BY_VM_SUPERVISOR_REQUEST",rt="FETCH_NOTIFICATIONS_BY_VM_SUPERVISOR_SUCCESS",st="FETCH_NOTIFICATIONS_BY_VM_SUPERVISOR_FAILURE",ct="FETCH_NOTIFICATIONS_BY_DSM_SUPERVISOR_REQUEST",ot="FETCH_NOTIFICATIONS_BY_DSM_SUPERVISOR_SUCCESS",lt="FETCH_NOTIFICATIONS_BY_DSM_SUPERVISOR_FAILURE",dt="FETCH_NOTIFICATIONS_BY_CDP_SUPERVISOR_REQUEST",ut="FETCH_NOTIFICATIONS_BY_CDP_SUPERVISOR_SUCCESS",pt="FETCH_NOTIFICATIONS_BY_CDP_SUPERVISOR_FAILURE",jt={notifications_VM_supervisor:[],notifications_DSM_supervisor:[],notifications_CDP_supervisor:[]},ht="FETCH_NOTES_BY_ACTION_SENDER_REQUEST",bt="FETCH_NOTES_BY_ACTION_SENDER_SUCCESS",Ot="FETCH_NOTES_BY_ACTION_SENDER_FAILURE",mt={notesActionSender:[]},_t="FETCH_AGENCIES_REQUEST",ft="FETCH_AGENCIES_SUCCESS",xt="FETCH_AGENCIES_FAILURE",vt={agencies:[]},gt="FETCH_SERVICES_REQUEST",yt="FETCH_SERVICES_SUCCESS",St="FETCH_SERVICES_FAILURE",Tt={services:[]},Ct=Object(Y.b)({actionsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case K:return Object(o.a)(Object(o.a)({},e),{},{actions:t.payload,loading:!1});case J:return Object(o.a)(Object(o.a)({},e),{},{loading:!1});case X:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case Z:return Object(o.a)(Object(o.a)({},e),{},{lastAction:t.payload,loading:!1});case $:return Object(o.a)(Object(o.a)({},e),{},{loading:!1});case ee:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case te:return Object(o.a)(Object(o.a)({},e),{},{action:t.payload,loading:!1});case ae:return Object(o.a)(Object(o.a)({},e),{},{loading:!1});case ne:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case ie:return Object(o.a)(Object(o.a)({},e),{},{actionsUser:t.payload,loading:!1});case re:return Object(o.a)(Object(o.a)({},e),{},{loading:!1});case pe:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case je:return Object(o.a)(Object(o.a)({},e),{},{VMActions:t.payload,loading:!1});case he:return Object(o.a)(Object(o.a)({},e),{},{loading:!1});case be:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case Oe:return Object(o.a)(Object(o.a)({},e),{},{VMValidatedActions:t.payload,loading:!1});case me:return Object(o.a)(Object(o.a)({},e),{},{loading:!1});case se:return Object(o.a)({},e);case ce:return Object(o.a)(Object(o.a)({},e),{},{actionsByPosition:t.payload});case oe:case le:return Object(o.a)({},e);case de:return Object(o.a)(Object(o.a)({},e),{},{actionsByStatus:t.payload});case ue:case _e:return Object(o.a)({},e);case fe:return Object(o.a)(Object(o.a)({},e),{},{validatedDSMActions:t.payload});case xe:case ve:return Object(o.a)({},e);case ge:return Object(o.a)(Object(o.a)({},e),{},{validatedCDPActions:t.payload});case ye:case Se:return Object(o.a)({},e);case Te:return Object(o.a)(Object(o.a)({},e),{},{rejectedDSMActions:t.payload});case Ce:case Ee:return Object(o.a)({},e);case De:return Object(o.a)(Object(o.a)({},e),{},{rejectedCDPActions:t.payload});case Ie:case Ne:return Object(o.a)({},e);case Ae:return Object(o.a)(Object(o.a)({},e),{},{speakerActions:t.payload});case Re:return Object(o.a)({},e);case q:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case G:return Object(o.a)(Object(o.a)({},e),{},{actionId:t.payload,loading:!1});case Q:return Object(o.a)(Object(o.a)({},e),{},{loading:!1});case Me:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});case Ue:return Object(o.a)(Object(o.a)({},e),{},{action:t.payload,loading:!1});case ke:return Object(o.a)(Object(o.a)({},e),{},{loading:!1});default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(o.a)({},e);case E:return Object(o.a)(Object(o.a)({},e),{},{userID:t.payload.id,isAuthenticated:!0});case D:return Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!1});case I:return Object(o.a)({},e);case N:return Object(o.a)(Object(o.a)({},e),{},{user:t.payload.user,token:t.payload.token,isAuthenticated:!0});case A:return Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!1});case R:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case M:return Object(o.a)(Object(o.a)({},e),{},{user:t.payload,isLoading:!1,isAuthenticated:!0});case U:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case k:return Object(o.a)({},e);case V:return Object(o.a)(Object(o.a)({},e),{},{user:null,isAuthenticated:!1,token:null});case P:case w:return Object(o.a)({},e);case L:return Object(o.a)(Object(o.a)({},e),{},{resetPasswordtoken:t.payload.resetPasswordToken});case F:return Object(o.a)({},e);default:return e}},doctorsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case ze:return Object(o.a)(Object(o.a)({},e),{},{doctors:Object(Pe.a)(t.payload),isLoading:!1});case Ye:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case He:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case qe:return Object(o.a)(Object(o.a)({},e),{},{invited_doctors:Object(Pe.a)(t.payload),isLoading:!1});case Ge:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case Qe:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case We:return Object(o.a)(Object(o.a)({},e),{},{lastDoctor:t.payload,isLoading:!1});case Ke:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case we:return Object(o.a)({},e);case Le:return Object(o.a)(Object(o.a)({},e),{},{doctors:t.payload});case Fe:return Object(o.a)({},e);default:return e}},localisationsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0});case tt:return Object(o.a)(Object(o.a)({},e),{},{localisations:Object(Pe.a)(t.payload),isLoading:!1});case at:return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1});case Xe:return Object(o.a)({},e);case Ze:return Object(o.a)(Object(o.a)({},e),{},{localisations:t.payload});case $e:return Object(o.a)({},e);default:return e}},notificationsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case it:return Object(o.a)({},e);case rt:return Object(o.a)(Object(o.a)({},e),{},{notifications_VM_supervisor:Object(Pe.a)(t.payload)});case st:case ct:return Object(o.a)({},e);case ot:return Object(o.a)(Object(o.a)({},e),{},{notifications_DSM_supervisor:Object(Pe.a)(t.payload)});case lt:case dt:return Object(o.a)({},e);case ut:return Object(o.a)(Object(o.a)({},e),{},{notifications_CDP_supervisor:Object(Pe.a)(t.payload)});case pt:return Object(o.a)({},e);default:return e}},notesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:return Object(o.a)({},e);case bt:return Object(o.a)(Object(o.a)({},e),{},{notesActionSender:Object(Pe.a)(t.payload)});case Ot:return Object(o.a)({},e);default:return e}},agenciesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _t:return Object(o.a)({},e);case ft:return Object(o.a)(Object(o.a)({},e),{},{agencies:t.payload});case xt:return Object(o.a)({},e);default:return e}},servicesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:return Object(o.a)({},e);case yt:return Object(o.a)(Object(o.a)({},e),{},{services:t.payload});case St:return Object(o.a)({},e);default:return e}}}),Et=a(297),Dt=a(298),It=Object(Et.createLogger)({collapsed:!0,colors:{title:function(){return"#0B698F"},prevState:function(){return"#7286E9"},action:function(){return"#bd2839"},nextState:function(){return"#1DB954"},error:function(){return"#FF534D"}}}),Nt=Object(Y.c)(Ct,Object(Y.a)(Dt.a,It)),At=localStorage.getItem("LinkD"),Rt=z.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MIX_API_URL,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(At)}});Rt.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),Rt.interceptors.response.use((function(e){return e}),(function(e){switch(e.response.status){case 401:Nt.dispatch(Lt()),ui.push("/login")}return Promise.reject(e)}));var Mt=Rt;var Ut={registerUser:function(e){return Mt({method:"post",url:"/auth/signup",data:e})},loginUser:function(e){return Mt({method:"post",url:"/auth/login",data:e})},getAuthUserRequest:function(e){return Mt({method:"post",url:"/auth/:".concat(e),params:{user_id:e}})},logoutUser:function(){return Mt({method:"get",url:"/auth/logout",data:null})},updateUserProfileRequest:function(e,t){return Mt({method:"post",url:"/auth/editProfile/".concat(e),params:{user_id:e},data:t})},forgotPassword:function(e){return Mt({method:"post",url:"/auth/forgot/password",data:e})},resetPassword:function(e,t){return Mt({method:"post",url:"/auth/reset/:".concat(t),data:e,params:{resetPasswordToken:t}})}},kt=a(24);kt.a.configure();var Vt=function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:C}),t.prev=1,t.next=4,Ut.registerUser(e);case 4:if(!(n=t.sent).data.DuplicateAlert){t.next=10;break}a({type:D}),kt.a.error("Cette adresse Email est d\xe9ja utilis\xe9e sur un autre compte!",{position:kt.a.POSITION.TOP_LEFT}),t.next=13;break;case 10:return a({type:E,payload:{message:"User added successfully!",id:n.data.insertId}}),a(Pt(e)),t.abrupt("return",n.data.insertId);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),a({type:D,payload:t.t0.response.data});case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()};function Pt(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:I}),t.prev=1,t.next=4,Ut.loginUser(e);case 4:(n=t.sent).data.user?(kt.a.success("Bienvenue chez LinkD!",{position:kt.a.POSITION.TOP_LEFT}),a({type:N,payload:n.data}),localStorage.setItem("LinkD",n.data.token),localStorage.setItem("user_id",n.data.user.user_id),a(wt(n.data.user.user_id))):"Please verify your email adress"===n.data?kt.a.error("V\xe9rifier votre adresse Email SVP!",{position:kt.a.POSITION.TOP_LEFT}):"Please verify your password"===n.data?kt.a.error("V\xe9rifier votre mot de passe SVP!",{position:kt.a.POSITION.TOP_LEFT}):kt.a.error("Error!",{position:kt.a.POSITION.TOP_LEFT}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:A});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function wt(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:R});case 2:return t.prev=2,t.next=5,Ut.getAuthUserRequest(e);case 5:return n=t.sent,t.next=8,a({type:M,payload:n.data});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),a({type:U});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}function Lt(){return function(){var e=Object(h.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:k});case 2:return e.prev=2,e.next=5,Ut.logoutUser();case 5:return a=e.sent,localStorage.clear(),e.next=9,t({type:V,payload:a.data.message});case 9:window.location.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t({type:P});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()}function Ft(e,t){return function(){var a=Object(h.a)(j.a.mark((function a(n){var i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"UPDATE_USER_PROFILE_REQUEST"}),a.prev=1,a.next=4,Ut.updateUserProfileRequest(e,t);case 4:i=a.sent,n({type:"UPDATE_USER_PROFILE_SUCCESS",payload:i.data}),window.location.reload(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:"UPDATE_USER_PROFILE_FAILURE"});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}function Bt(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:w});case 2:return t.prev=2,t.next=5,Ut.forgotPassword(e);case 5:if(!(n=t.sent).data.alert){t.next=10;break}kt.a.error("Cette adresse Email est incorrecte!",{position:kt.a.POSITION.TOP_LEFT}),t.next=13;break;case 10:return kt.a.info("Verifier votre boite Gmail SVP!",{position:kt.a.POSITION.TOP_LEFT}),t.next=13,a({type:L,payload:n.data});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),a({type:F,payload:t.t0.response.data});case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e){return t.apply(this,arguments)}}()}function zt(e,t){return function(){var a=Object(h.a)(j.a.mark((function a(n){var i,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n({type:"RESET_PASSWORD_REQUEST"});case 2:return a.prev=2,a.next=5,Ut.resetPassword(e,t);case 5:return i=a.sent,r={user_email:i.data.user.user_email,user_password:i.data.user.user_password},a.next=9,n({type:"RESET_PASSWORD_SUCCESS",payload:i.data});case 9:n(Pt(r)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(2),n({type:"RESET_PASSWORD_FAILURE"});case 15:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e){return a.apply(this,arguments)}}()}var Yt=a(88),Ht=a.n(Yt),qt=a(1),Gt=function(){return Object(qt.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(qt.jsx)(_.a,{color:"inherit",href:"https://material-ui.com/",children:"Sanofi"})," ",(new Date).getFullYear(),"."]})},Qt=Object(T.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/1600x900/?medecines)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Wt=function(){var e=Qt(),t=Object(u.c)(),a=function(){var e=Object(h.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Vt(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=[{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Email : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"user_email",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{label:"Tapez votre adresse email svp!",name:"user_email",margin:"none",type:"email"})})}})},{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",children:["Mot de passe : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"user_password",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{label:"Tapez votre mot de passe svp!",name:"user_password",margin:"none",type:"password"})})}})}];return Object(qt.jsxs)(f.a,{container:!0,component:"main",className:e.root,children:[Object(qt.jsx)(x.a,{}),Object(qt.jsx)(f.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(qt.jsxs)(f.a,{item:!0,xs:12,sm:8,md:5,component:v.a,elevation:6,square:!0,children:[Object(qt.jsxs)("div",{className:e.paper,children:[Object(qt.jsx)(g.a,{className:e.avatar,children:Object(qt.jsx)(Ht.a,{})}),Object(qt.jsx)(m.a,{component:"h1",variant:"h5",children:"S'inscrire"}),Object(qt.jsx)(b.b,{onSubmit:a,validate:function(e){var t={};return e.user_email||(t.user_email="Champ requis"),e.user_password||(t.user_password="Champ requis"),t},render:function(e){var t=e.handleSubmit,a=e.form;return Object(qt.jsxs)("form",{onSubmit:t,children:[Object(qt.jsx)(v.a,{style:{padding:16},children:Object(qt.jsxs)(f.a,{container:!0,alignItems:"flex-start",spacing:2,children:[n.map((function(e,t){return Object(qt.jsx)(f.a,{item:!0,xs:e.size,children:e.field},t)})),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{type:"button",variant:"contained",onClick:a.reset,children:"Reinitialiser"})}),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{variant:"contained",color:"primary",type:"submit",children:"Cr\xe9er un compte"})})]})}),Object(qt.jsx)(f.a,{container:!0,children:Object(qt.jsx)(f.a,{item:!0,children:Object(qt.jsx)(_.a,{href:"/login",variant:"body2",children:"Connectez vous?"})})}),Object(qt.jsx)(S.a,{mt:30})]})}})]}),Object(qt.jsx)(Gt,{})]})]})},Kt=function(){return Object(qt.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(qt.jsx)(_.a,{color:"inherit",href:"https://material-ui.com/",children:"Sanofi"})," ",(new Date).getFullYear(),"."]})},Jt=Object(T.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/1600x900/?medecines)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Xt=function(){var e=Jt(),t=Object(u.c)(),a=function(){var e=Object(h.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Pt(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=[{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Email : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"user_email",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{label:"Tapez votre adresse email svp!",name:"user_email",margin:"none",type:"email"})})}})},{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",children:["Mot de passe : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"user_password",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{label:"Tapez votre mot de passe svp!",name:"user_password",margin:"none",type:"password"})})}})}];return Object(qt.jsxs)(f.a,{container:!0,component:"main",className:e.root,children:[Object(qt.jsx)(x.a,{}),Object(qt.jsx)(f.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(qt.jsxs)(f.a,{item:!0,xs:12,sm:8,md:5,component:v.a,elevation:6,square:!0,children:[Object(qt.jsxs)("div",{className:e.paper,children:[Object(qt.jsx)(g.a,{className:e.avatar,children:Object(qt.jsx)(Ht.a,{})}),Object(qt.jsx)(m.a,{component:"h1",variant:"h5",children:"Connexion"}),Object(qt.jsx)(b.b,{onSubmit:a,validate:function(e){var t={};return e.user_email||(t.user_email="Champ requis"),e.user_password||(t.user_password="Champ requis"),t},render:function(e){var t=e.handleSubmit,a=e.form;return Object(qt.jsxs)("form",{onSubmit:t,children:[Object(qt.jsx)(v.a,{style:{padding:16},children:Object(qt.jsxs)(f.a,{container:!0,alignItems:"flex-start",spacing:2,children:[n.map((function(e,t){return Object(qt.jsx)(f.a,{item:!0,xs:e.size,children:e.field},t)})),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{type:"button",variant:"contained",onClick:a.reset,children:"Reinitialiser"})}),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{variant:"contained",color:"primary",type:"submit",children:"Se connecter"})})]})}),Object(qt.jsxs)(f.a,{container:!0,children:[Object(qt.jsx)(f.a,{item:!0,xs:!0,children:Object(qt.jsx)(_.a,{href:"/forgot",variant:"body2",children:"Mot de passe oubli\xe9?"})}),Object(qt.jsx)(f.a,{item:!0,children:Object(qt.jsx)(_.a,{href:"/signup",variant:"body2",children:"Vous n'avez pas de compte ? Inscrivez vous.."})})]}),Object(qt.jsx)(S.a,{mt:30})]})}})]}),Object(qt.jsx)(Kt,{})]})]})},Zt=Object(T.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/1600x900/?medecines)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),$t=function(){var e=Zt(),t=Object(u.c)(),a=function(){var e=Object(h.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Bt(a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(qt.jsxs)(f.a,{container:!0,component:"main",className:e.root,children:[Object(qt.jsx)(x.a,{}),Object(qt.jsx)(f.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(qt.jsx)(f.a,{item:!0,xs:12,sm:8,md:5,component:v.a,elevation:6,square:!0,children:Object(qt.jsxs)("div",{className:e.paper,children:[Object(qt.jsx)(g.a,{className:e.avatar,children:Object(qt.jsx)(Ht.a,{})}),Object(qt.jsx)(m.a,{component:"h1",variant:"h5",children:"Connexion"}),Object(qt.jsx)(b.b,{onSubmit:a,validate:function(e){var t={};return e.user_email||(t.user_email="Champ requis"),t},render:function(e){var t=e.handleSubmit;e.form;return Object(qt.jsx)("form",{onSubmit:t,children:Object(qt.jsx)(v.a,{style:{padding:16},children:Object(qt.jsxs)(f.a,{container:!0,alignItems:"flex-start",spacing:2,children:[Object(qt.jsx)(f.a,{item:!0,xs:9,children:Object(qt.jsx)(b.a,{name:"user_email",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{label:"Tapez votre adresse email svp!",name:"user_email",margin:"none",type:"email"})})}})}),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{variant:"contained",color:"primary",type:"submit",children:"Suivant"})})]})})})}})]})})]})},ea=Object(T.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/1600x900/?medecines)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),ta=window.location.pathname.split("/")[2],aa=function(){var e=ea(),t=Object(u.c)(),a=function(){var e=Object(h.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new FormData).append("values",JSON.stringify(a)),t(zt(a,ta));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(qt.jsxs)(f.a,{container:!0,component:"main",className:e.root,children:[Object(qt.jsx)(x.a,{}),Object(qt.jsx)(f.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(qt.jsx)(f.a,{item:!0,xs:12,sm:8,md:5,component:v.a,elevation:6,square:!0,children:Object(qt.jsxs)("div",{className:e.paper,children:[Object(qt.jsx)(g.a,{className:e.avatar,children:Object(qt.jsx)(Ht.a,{})}),Object(qt.jsx)(m.a,{component:"h1",variant:"h5",children:"Connexion"}),Object(qt.jsx)(b.b,{onSubmit:a,validate:function(e){var t={};return e.user_password||(t.user_password="Champ requis"),t},render:function(e){var t=e.handleSubmit;e.form;return Object(qt.jsx)("form",{onSubmit:t,children:Object(qt.jsx)(v.a,{style:{padding:16},children:Object(qt.jsxs)(f.a,{container:!0,alignItems:"flex-start",spacing:2,children:[Object(qt.jsx)(f.a,{item:!0,xs:9,children:Object(qt.jsx)(b.a,{name:"user_password",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{label:"Tapez votre nouveau mot de passe svp!",name:"user_password",margin:"none",type:"password"})})}})}),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{variant:"contained",color:"primary",type:"submit",children:"Suivant"})})]})})})}})]})})]})},na=a(625),ia=a(604),ra=a(603),sa=a(608),ca=a(13),oa=a.n(ca),la=a(11),da=["title","subtitle","className"],ua=function(e){var t=e.title,a=e.subtitle,n=e.className,i=Object(l.a)(e,da),r=oa()(n,"text-center","text-md-left","mb-sm-0");return Object(qt.jsxs)(la.e,Object(o.a)(Object(o.a)({xs:"12",sm:"4",className:r},i),{},{children:[Object(qt.jsx)("h3",{className:"page-title",children:t}),Object(qt.jsx)("span",{className:"text-uppercase page-subtitle",children:a})]}))},pa=a(621),ja=a(36);var ha={fetchActions:function(){return Mt({method:"get",url:"/api/actions",data:null})},addAction:function(e){return Mt({method:"post",url:"/api/actions",data:e,headers:{Content_type:"Multipart/form-data"}})},fetchLastAction:function(){return Mt({method:"get",url:"/api/actions/last",data:null})},fetchActionById:function(e){return Mt.get("/api/actions/:".concat(e),{params:{action_id:e}})},fetchActionByUserId:function(e){return Mt.get("/api/actions/user/:".concat(e),{params:{user_id:e}})},fetchActionByUserPosition:function(e){return Mt.get("/api/actions/user/position/:".concat(e),{params:{user_position:e}})},fetchActionByStatus:function(e){return Mt.get("/api/actions/user/validation/:".concat(e),{params:{status:e}})},fetchVMActionByUserId:function(e){return Mt.get("/api/actions/user/VM/actions/:".concat(e),{params:{user_id:e}})},fetchVMValidatedActionByUserId:function(e){return Mt.get("/api/actions/user/VM/validated/actions/:".concat(e),{params:{user_id:e}})},fetchDSMValidatedActionByUserId:function(e){return Mt.get("/api/actions/user/validation/DSMvalidated/:".concat(e),{params:{user_id:e}})},validateDSMSpeakerStatusActionById:function(e,t,a,n){return Mt({method:"post",url:"/api/actions/user/DSMSpeakervalidated",params:{action_id:e,user_email:t,user_id:a,action_sender:n}})},fetchCDPValidatedActionByUserId:function(e){return Mt.get("/api/actions/user/validation/CDPvalidated/:".concat(e),{params:{user_id:e}})},fetchDSMRejectedActionByUserId:function(e){return Mt.get("/api/actions/user/rejection/DSMrejected/:".concat(e),{params:{user_id:e}})},fetchCDPRejectedActionByUserId:function(e){return Mt.get("/api/actions/user/rejection/CDPrejected/:".concat(e),{params:{user_id:e}})},fetchSpeakerAction:function(){return Mt.get("/api/actions/user/validation/DSMvalidated/speaker")},updateActionById:function(e,t){return Mt({method:"post",url:"/api/actions/:".concat(e),data:t,params:{action_id:e}})},validateDSMStatusActionById:function(e,t,a,n){return Mt({method:"post",url:"/api/actions/user/DSMvalidated",params:{action_id:e,user_email:t,user_id:a,action_sender:n}})},validateVMStatusActionById:function(e,t,a,n,i,r){return Mt({method:"post",url:"/api/actions/user/VMvalidated",params:{action_id:e,user_email:t,user_id:a,action_sender:n,DSM_supervisor:i,CDP_supervisor:r}})},validateCDPStatusActionById:function(e,t,a,n){return Mt({method:"post",url:"/api/actions/user/CDPvalidated",params:{action_id:e,user_email:t,user_id:a,action_sender:n}})},validateMEDFirstStatusActionById:function(e,t,a,n){return Mt({method:"post",url:"/api/actions/user/MEDvalidated/first",params:{action_id:e,user_email:t,user_id:a,action_sender:n}})},validateMEDStatusActionById:function(e,t,a,n){return Mt({method:"post",url:"/api/actions/user/MEDvalidated",params:{action_id:e,user_email:t,user_id:a,action_sender:n}})},denyDSMStatusActionById:function(e,t){return Mt({method:"post",url:"/api/actions/user/DSMdenied",params:{action_id:e,user_id:t}})},denyCDPStatusActionById:function(e,t){return Mt({method:"post",url:"/api/actions/user/CDPdenied",params:{action_id:e,user_id:t}})},validateCDPFirstStatusActionById:function(e,t,a,n){return Mt({method:"post",url:"/api/actions/user/CDPvalidated/first",params:{action_id:e,user_email:t,user_id:a,action_sender:n}})},deleteActionById:function(e){return Mt.delete("/api/actions/:".concat(e),{params:{action_id:e}})},returnActionByIdRequest:function(e){return Mt({method:"post",url:"/api/actions/user/returned/:".concat(e),params:{action_id:e}})},messagingValidationRequest:function(e){return Mt({method:"post",url:"/api/actions/user/twilio/messaging/validation",data:{to:e}})},messagingRejectionRequest:function(e){return Mt({method:"post",url:"/api/actions/user/twilio/messaging/rejection",data:{to:e}})},validateServicesRequest:function(e,t){return console.log(e),Mt({method:"post",url:"/api/actions/user/CDPvalidated/services",data:{values:e,action:t}})}};function ba(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:q}),t.prev=1,t.next=4,ha.addAction(e);case 4:return n=t.sent,a({type:G,payload:{message:"Action added successfully!",id:n.data.insertId}}),t.abrupt("return",n.data.insertId);case 9:t.prev=9,t.t0=t.catch(1),a({type:Q,payload:t.t0.response.data});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}function Oa(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ne}),t.prev=1,t.next=4,ha.fetchActionByUserId(e);case 4:n=t.sent,a({type:ie,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:re});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function ma(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:pe}),t.prev=1,t.next=4,ha.fetchVMActionByUserId(e);case 4:n=t.sent,a({type:je,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:he});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function _a(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:be}),t.prev=1,t.next=4,ha.fetchVMValidatedActionByUserId(e);case 4:n=t.sent,a({type:Oe,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:me});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function fa(){return function(){var e=Object(h.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Ne}),e.prev=1,e.next=4,ha.fetchSpeakerAction();case 4:a=e.sent,t({type:Ae,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:Re});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}function xa(e,t){return function(){var a=Object(h.a)(j.a.mark((function a(n){var i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"UPDATE_ACTION_BY_ID_REQUEST"}),a.prev=1,a.next=4,ha.updateActionById(e,t);case 4:i=a.sent,n({type:"UPDATE_ACTION_BY_ID_SUCCESS",payload:i.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:"UPDATE_ACTION_BY_ID_FAILURE"});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()}function va(e,t){return function(){var a=Object(h.a)(j.a.mark((function a(n){var i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"DENY_STATUS_CDP_ACTION_BY_ID_REQUEST"}),a.prev=1,a.next=4,ha.denyCDPStatusActionById(e,t);case 4:i=a.sent,n({type:"DENY_STATUS_CDP_ACTION_BY_ID_SUCCESS",payload:i.data}),kt.a.error("Action rejet\xe9e avec success!",{position:kt.a.POSITION.TOP_LEFT}),setInterval((function(){window.location.reload()}),1e3),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:"DENY_STATUS_CDP_ACTION_BY_ID_FAILURE"});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}function ga(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"RETURN_ACTION_BY_ID_REQUEST"}),t.prev=1,t.next=4,ha.returnActionByIdRequest(e);case 4:t.sent,window.location.reload(),a({type:"RETURN_ACTION_BY_ID_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"RETURN_ACTION_BY_ID_FAILURE"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}function ya(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"MESSAGING_VALIDATION_REQUEST"}),t.prev=1,t.next=4,ha.messagingValidationRequest(e);case 4:t.sent,a({type:"MESSAGING_VALIDATION_SUCCESS"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"MESSAGING_VALIDATION_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function Sa(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"MESSAGING_REJECTION_REQUEST"}),t.prev=1,t.next=4,ha.messagingRejectionRequest(e);case 4:t.sent,a({type:"MESSAGING_REJECTION_SUCCESS"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"MESSAGING_REJECTION_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function Ta(e,t){return console.log(e),function(){var a=Object(h.a)(j.a.mark((function a(n){var i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"SERVICES_REQUEST"}),a.prev=1,a.next=4,ha.validateServicesRequest(e,t);case 4:i=a.sent,n({type:"SERVICES_SUCCESS",payload:i.data}),kt.a.success("Veuillez v\xe9rifier votre adresse email SVP ..",{position:kt.a.POSITION.TOP_LEFT}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:"SERVICES_FAILURE"});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}kt.a.configure();var Ca={fetchLocalisations:function(){return Mt({method:"get",url:"/api/localisations",data:null})},addLocalisation:function(e){return Mt({method:"post",url:"/api/localisations",data:e})}};var Ea={fetchDoctors:function(){return Mt({method:"get",url:"/api/doctors",data:null})},fetchLastDoctor:function(){return Mt({method:"get",url:"/api/doctors/last",data:null})},fetchDoctorsByUserId:function(e){return Mt({method:"get",url:"/api/doctors/VMsupervisors/:".concat(e),data:null})},fetchInvitedDoctors:function(e){return Mt({method:"get",url:"/api/doctors/invited",params:{doctor_name:e},data:null})},addDoctor:function(e){return Mt({method:"post",url:"/api/doctors",data:e})}};var Da=a(227),Ia=a(307),Na=a(308),Aa=a(104),Ra=a.n(Aa),Ma=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)([]),s=Object(c.a)(r,2),o=s[0],l=s[1],p=Object(n.useState)([]),_=Object(c.a)(p,2),x=_[0],g=_[1],S=Object(n.useState)(0),T=Object(c.a)(S,2),C=T[0],E=T[1],D=Object(n.useState)(""),I=Object(c.a)(D,2),N=I[0],A=I[1],R=Object(n.useState)(""),M=Object(c.a)(R,2),U=M[0],k=M[1],V=Object(n.useState)("0"),P=Object(c.a)(V,2),w=P[0],L=P[1],F=Object(n.useState)("0"),B=Object(c.a)(F,2),z=B[0],Y=B[1],H=Object(n.useState)("0"),q=Object(c.a)(H,2),G=q[0],Q=q[1],W=Object(n.useState)(""),K=Object(c.a)(W,2),J=K[0],X=K[1],Z=Object(d.g)(),$=Object(u.c)(),ee=Object(u.d)((function(e){return e.authReducer.user[0]})),te=Object(u.d)((function(e){return e.actionsReducer.action})),ae=Object(u.d)((function(e){return e.doctorsReducer.doctors})),ne=Object(u.d)((function(e){return e.doctorsReducer.isLoading})),ie=Object(u.d)((function(e){return e.localisationsReducer.localisations})),re=["productA","productB","productC","productD","productE","productF"],se=["Chirugien","M\xe9decin G\xe9n\xe9ral","Neuphrologie","M\xe9decin de travail","Generaliste","M\xe9decin enfant"],ce=["Ras Djbal: Bizerte","Ain Mariem: Bizerte","Ain midoun: Medenine","Djerba: Medenine","Sers: Le Kef","Tejrouine: Le Kef","Hay tahrir: Tunis"],oe=[],le=[],de=[],ue=function(){var e=0;i(ae),Ra()(".MuiSelect-select.MuiSelect-select[name='action_field'] option:selected").each((function(e,t){oe.push(t.value)})),console.log(a);for(var t=0;t<oe.length;t++)for(var n=0;n<ae.length;n++)oe[t].includes(ae[n].doctor_field)?(le=(le=le.concat(ae.filter((function(e){return e.doctor_field===oe[t]})))).filter((function(e,t){return le.indexOf(e)===t})),i(le)):oe[t].includes(ae[n].doctor_field)||++e===ae.length?i([]):i(le)},pe=function(){var e=Ra()("#invited_doctors option:selected").length;E(e)},je=function(){l([]),Ra()(document).ready((function(){for(var e=Ra()(".MuiList-padding"),t=0;t<e[0].children.length;t++)for(var a=0;a<ce.length;a++)e[0].children[t].selected&&e[0].children[t].value===ce[a].split(": ").pop()&&(de=de.concat(ce[a]),l(de))}))},he=function(e){g(e.target.files[0])},be=function(){Z.goBack()},Oe=function(){var e=Object(h.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new FormData,t.end_action||(t.end_action="2021-12-31"),t.comments||(t.comments="Non sp\xe9cifi\xe9"),t.speaker_suggestion||(t.speaker_suggestion="Non sp\xe9cifi\xe9"),t.other_location||(t.other_location="Non sp\xe9cifi\xe9"),t.other_doctors||(t.other_doctors="Non sp\xe9cifi\xe9"),t.other_stuff||(t.other_stuff="Non sp\xe9cifi\xe9"),t.user_id=ee.user_id,t.user_email=ee.user_email,t.DSM_supervisor=ee.DSM_supervisor,t.user_position=ee.user_position,t.user_email=ee.user_email,t.speaker=parseInt(w),t.speaker_transfer=parseInt(z),t.speaker_accommodation=parseInt(G),x.name?(a.append("file",x,x.name),a.append("values",JSON.stringify(t))):a.append("values",JSON.stringify(t)),!te.action_id){e.next=21;break}$(xa(te.action_id,a)),Z.push("/display-action/".concat(te.action_id)),e.next=25;break;case 21:return e.next=23,$(ba(a));case 23:(n=e.sent)&&Z.push("/display-action/".concat(n));case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){$(function(){var e=Object(h.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Be}),e.prev=1,e.next=4,Ea.fetchDoctors();case 4:a=e.sent,t({type:ze,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:Ye});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),$(function(){var e=Object(h.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:et}),e.prev=1,e.next=4,Ca.fetchLocalisations();case 4:a=e.sent,t({type:tt,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:at,payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[$]),Object(n.useEffect)((function(){if(Ra()(".extra-speaker-elements").hide(),te.start_action&&A(te.start_action.split("T").shift()),te.end_action&&k(te.end_action.split("T").shift()),te.action_id){l([te.action_location]);for(var e=te.invited_doctors.split(","),t=0;t<ae.length;t++)for(var a=0;a<e.length;a++)ae[t].doctor_lname+" "+ae[t].doctor_fname===e[a]&&(le.push(ae[t]),i(le),E(le.length))}else i(ae)}),[ae,ie,te]);var me=[{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Type d\u2019action : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"action_type",initialValue:te.action_type,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsxs)(O.a,{name:"action_type",label:"Selectionner le type d'action",formControlProps:{margin:"none"},type:"select",children:[Object(qt.jsx)(na.a,{value:"Congr\xe9 National",children:"Congr\xe9s National"}),Object(qt.jsx)(na.a,{value:"Congr\xe9s International",children:"Congr\xe9s International"}),Object(qt.jsx)(na.a,{value:"Simosium National",children:"Simosium National"}),Object(qt.jsx)(na.a,{value:"Simosium International",children:"Simosium International"}),Object(qt.jsx)(na.a,{value:"Projet",children:"Projet"})]})})}})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Autre staff Sanofi :"})},{size:9,field:Object(qt.jsx)(b.a,{name:"other_stuff",initialValue:te.other_stuff,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsxs)(O.a,{name:"other_stuff",label:"Selectionner",formControlProps:{margin:"none"},type:"select",children:[Object(qt.jsx)(na.a,{value:"Staff",children:"Staff"}),Object(qt.jsx)(na.a,{value:"TR",children:"TR"}),Object(qt.jsx)(na.a,{value:"EPU",children:"EPU"}),Object(qt.jsx)(na.a,{value:"Atelier",children:"Atelier"})]})})}})},{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Date d\xe9but de l\u2019action : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"start_action",initialValue:N,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(ja.a,{utils:Da.a,children:Object(qt.jsx)(O.b,{id:"date",type:"date",name:"start_action",InputProps:{inputProps:{min:(new Date).toLocaleDateString().split("/").reverse().join("-")}}})})})}})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Date fin de l\u2019action :"})},{size:9,field:Object(qt.jsx)(b.a,{name:"end_action",initialValue:U,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(ja.a,{utils:Da.a,children:Object(qt.jsx)(O.b,{id:"date",type:"date",name:"end_action",InputProps:{inputProps:{min:(new Date).toLocaleDateString().split("/").reverse().join("-")}}})})})}})},{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Horaire : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"schedule",initialValue:te.schedule,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(ja.a,{utils:Ia.a,children:Object(qt.jsx)(O.b,{id:"date",type:"time",name:"schedule"})})})}})},{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Ville : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"action_town",initialValue:te.action_town,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.a,{id:"action_town",name:"action_town",label:"Selectionner la ville",formControlProps:{margin:"none"},onClick:je,type:"select",children:ie.map((function(e,t){return Object(qt.jsx)("option",{value:e.localisation_name,children:e.localisation_name},t)}))})})}})},{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Lieu : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"action_location",initialValue:te.action_location,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.a,{name:"action_location",label:"Selectionner le lieu",formControlProps:{margin:"none"},type:"select",children:o.map((function(e,t){return Object(qt.jsx)("option",{value:e,children:e},t)}))})})}})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Autre lieu :"})},{size:9,field:Object(qt.jsx)(b.a,{name:"other_location",initialValue:te.other_location,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{label:"Selectionner autre lieu",name:"other_location",margin:"none"})})}})},{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Produit : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"product",initialValue:te.product?te.product.split(","):null,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.a,{name:"product",type:"select",multiple:!0,native:!0,children:re.map((function(e,t){return Object(qt.jsx)("option",{value:e,children:e},t)}))})})}})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Orateur :"})},{size:9,field:Object(qt.jsx)(b.a,{name:"speaker",initialValue:te.speaker,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsxs)(ia.a,{defaultValue:w,className:"radio-group",onChange:function(e){L(e.target.value),Ra()(".extra-speaker-elements").toggle()},children:[Object(qt.jsx)(ra.a,{value:"1",name:"radio-1",control:Object(qt.jsx)(pa.a,{id:"y"}),label:"Oui",id:"yes"}),Object(qt.jsx)(ra.a,{value:"0",name:"radio-2",control:Object(qt.jsx)(pa.a,{id:"n"}),label:"Non",id:"no"})]})})}})},{size:3,display:!0,field:Object(qt.jsx)(m.a,{style:{marginTop:"18px"},children:"Propositions d'orateur :"})},{size:9,display:!0,field:Object(qt.jsx)(b.a,{name:"speaker_suggestion",initialValue:te.speaker_suggestion,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{name:"speaker_suggestion",placeholder:"Propositions"})})}})},{size:3,display:!0,field:Object(qt.jsx)(m.a,{style:{marginTop:"18px"},children:"Transfert :"})},{size:9,display:!0,field:Object(qt.jsx)(b.a,{name:"speaker_transfer",intialize:te.speaker_transfer,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsxs)(ia.a,{defaultValue:z,onChange:function(e){return Y(e.target.value)},children:[Object(qt.jsx)(ra.a,{value:"1",name:"radio-1",control:Object(qt.jsx)(pa.a,{}),label:"Oui"}),Object(qt.jsx)(ra.a,{value:"0",name:"radio-2",control:Object(qt.jsx)(pa.a,{}),label:"Non"})]})})}})},{size:3,display:!0,field:Object(qt.jsx)(m.a,{style:{marginTop:"18px"},children:"H\xe9bergement :"})},{size:9,display:!0,field:Object(qt.jsx)(b.a,{name:"speaker_accommodation",initial:te.speaker_accommodation,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsxs)(ia.a,{defaultValue:G,onChange:function(e){return Q(e.target.value)},children:[Object(qt.jsx)(ra.a,{value:"1",name:"radio-1",control:Object(qt.jsx)(pa.a,{}),label:"Oui"}),Object(qt.jsx)(ra.a,{value:"0",name:"radio-2",control:Object(qt.jsx)(pa.a,{}),label:"Non"})]})})}})},{size:3,display:!0,field:Object(qt.jsx)(m.a,{style:{marginTop:"18px"},children:"Agenda de la r\xe9union :"})},{size:9,display:!0,field:Object(qt.jsx)(b.a,{name:"meeting_agenda",initialValue:te.meeting_agenda,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{name:"meeting_agenda",margin:"none",type:"file",onChange:he,value:x.filename})})}})},{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Theme de la r\xe9union : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"meeting_theme",initialValue:te.meeting_theme,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{label:"Choisissez le th\xe9me de la r\xe9union",name:"meeting_theme",margin:"none"})})}})},{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Nombre des invit\xe9s : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{name:"pax_number",initialValue:te.pax_number,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{label:"Tapez le nombre des invit\xe9s",name:"pax_number",margin:"none",type:"number"})})}})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Filtre de sp\xe9cialit\xe9 :"})},{size:9,field:Object(qt.jsx)(b.a,{name:"action_field",initialValue:te.action_field?te.action_field.split(","):null,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.a,{name:"action_field",type:"select",id:"mySelect",formControlProps:{margin:"none"},multiple:!0,native:!0,onClick:ue,children:se.map((function(e,t){return Object(qt.jsx)("option",{value:e,children:e},t)}))})})}})},{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["M\xe9decins invit\xe9s ",C,": ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsxs)("div",{children:[Object(qt.jsx)(Na.Hint,{options:re,allowTabFill:!0,disableHint:!0,children:Object(qt.jsx)("input",{className:"input-with-hint",value:J,onChange:function(e){e.preventDefault();var t="";if(X(e.target.value),J.length){t=J.toLowerCase();for(var n=0;n<a.length;n++)-1===a[n].doctor_lname.trim().toLowerCase().indexOf(t)&&-1===a[n].doctor_fname.trim().toLowerCase().indexOf(t)&&-1===a[n].doctor_field.trim().toLowerCase().indexOf(t)||(le.push(a[n]),i(le))}0===e.target.value.length&&ue()},placeholder:"Search"})}),Object(qt.jsx)(b.a,{type:"select",name:"invited_doctors",initialValue:te.invited_doctors?te.invited_doctors.split(","):null,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.a,{name:"invited_doctors",formControlProps:{margin:"none"},multiple:!0,type:"select",native:!0,onClick:pe,id:"invited_doctors",children:a.map((function(e,t){return Object(qt.jsxs)("option",{value:e.doctor_lname+" "+e.doctor_fname,children:[e.doctor_lname," ",e.doctor_fname," ",e.doctor_field]},t)}))})})}})]})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Autres m\xe9decins :"})},{size:9,field:Object(qt.jsx)(b.a,{name:"other_doctors",initialValue:te.other_doctors,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{type:"text",label:"Tapez autres m\xe9decins",name:"other_doctors",margin:"none"})})}})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Commentaires :"})},{size:9,field:Object(qt.jsx)(b.a,{name:"comments",initialValue:te.comments,children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{type:"text",label:"Tapez des commentaires",name:"comments",margin:"none"})})}})}];return ne?Object(qt.jsx)(sa.a,{color:"primary"}):Object(qt.jsxs)("div",{className:"container",style:{padding:16,margin:"auto",maxWidth:1225,height:"100%"},children:[Object(qt.jsx)(la.q,{noGutters:!0,className:"page-header py-4",children:Object(qt.jsx)(ua,{sm:"4",title:"Initiation d'action",subtitle:"Link-D / Actions"})}),Object(qt.jsx)(b.b,{onSubmit:Oe,validate:function(e){var t={};return e.action_type||(t.action_type="Champ requis"),e.start_action||(t.start_action="Champ requis"),e.schedule||(t.schedule="Champ requis"),e.action_town||(t.action_town="Champ requis"),e.action_location||(t.action_location="Champ requis"),e.product||(t.product="Champ requis"),e.meeting_theme||(t.meeting_theme="Champ requis"),e.pax_number||(t.pax_number="Champ requis"),e.invited_doctors||(t.invited_doctors="Champ requis"),t},render:function(e){var t=e.handleSubmit;e.form;return Object(qt.jsx)("form",{onSubmit:t,encType:"multipart/form-data",children:Object(qt.jsxs)(v.a,{style:{padding:16},children:[Object(qt.jsx)(f.a,{item:!0,xs:12,children:Object(qt.jsx)(m.a,{variant:"h5",component:"p",children:"Demande d'action"})}),Object(qt.jsxs)(f.a,{container:!0,alignItems:"flex-start",spacing:2,children:[me.map((function(e,t){return Object(qt.jsx)(f.a,{className:e.display?"extra-speaker-elements":null,item:!0,xs:e.size,children:e.field},t)})),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{type:"button",variant:"contained",onClick:be,children:"Pr\xe9cedent"})}),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{variant:"contained",color:"primary",type:"submit",children:"Suivant"})})]})]})})}})]})},Ua=a(612),ka=a(616),Va=a(615),Pa=a(611),wa=a(613),La=a(614),Fa=Object(T.a)({table:{minWidth:650},tableCell:{textAlign:"center"}}),Ba=function(){var e=Fa(),t=Object(d.g)(),a=Object(u.c)(),i=Object(u.d)((function(e){return e.authReducer.user[0]})),r=Object(u.d)((function(e){return e.actionsReducer.actionsUser})),s=Object(u.d)((function(e){return e.actionsReducer.VMActions})),c=Object(u.d)((function(e){return e.actionsReducer.VMValidatedActions})),o=Object(u.d)((function(e){return e.actionsReducer.speakerActions})),l=Object(u.d)((function(e){return e.actionsReducer.loading})),p=function(e){return t.push("display-action/".concat(e.target.id))};return Object(n.useEffect)((function(){var e=!1;return e||("DSM"===i.user_position?a(ma(i.user_id)):"CDP"===i.user_position?(a(_a(i.user_id)),a(fa())):"MED"===i.user_position?a(fa()):a(Oa(i.user_id))),function(){return e=!0}}),[a,i.user_id,i.user_position]),l?Object(qt.jsx)(sa.a,{color:"primary",className:"spinner"}):Object(qt.jsx)("div",{style:{padding:16,margin:"auto",maxWidth:1225,height:"100%"},children:Object(qt.jsxs)(la.g,{fluid:!0,className:"main-content-container px-4",children:[Object(qt.jsx)(la.q,{noGutters:!0,className:"page-header py-4",children:Object(qt.jsx)(ua,{sm:"4",title:"Suivi d'action",subtitle:"Link-D / Actions"})}),Object(qt.jsxs)(la.q,{style:{height:500,width:"100%"},children:[Object(qt.jsx)(f.a,{item:!0,xs:12,children:Object(qt.jsx)(m.a,{variant:"h5",component:"p",children:"Tableau de suivi des demandes d'actions :"})}),"VM"===i.user_position&&Object(qt.jsx)(Pa.a,{component:v.a,style:{height:"450px",overflow:"scroll"},children:Object(qt.jsxs)(Ua.a,{className:e.table,"aria-label":"simple table",children:[Object(qt.jsx)(wa.a,{children:Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:"Type d'action"}),Object(qt.jsx)(Va.a,{children:"Th\xe9matique"}),Object(qt.jsx)(Va.a,{children:"Date"}),Object(qt.jsx)(Va.a,{children:"Lieu"}),Object(qt.jsx)(Va.a,{children:"Nb d'invit\xe9s"}),Object(qt.jsx)(Va.a,{children:"R\xe9capitulatif"}),Object(qt.jsx)(Va.a,{children:"Statut"})]})}),Object(qt.jsx)(ka.a,{children:r.reverse().map((function(t){return Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:t.action_type}),Object(qt.jsx)(Va.a,{children:t.meeting_theme}),Object(qt.jsx)(Va.a,{children:t.start_action.split("T").shift().split("-").reverse().join("/")}),Object(qt.jsx)(Va.a,{children:t.action_location}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:t.pax_number}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:Object(qt.jsx)("button",{className:"overview-action",id:t.action_id,onClick:p,children:"Voir"})}),Object(qt.jsx)(Va.a,{className:"status"+("Valid\xe9"===t.status?"validated":"Refus\xe9"===t.status?"denied":"pending"),children:t.status})]},t.action_id)}))})]})}),"DSM"===i.user_position&&Object(qt.jsx)(Pa.a,{component:v.a,style:{height:"450px",overflow:"scroll"},children:Object(qt.jsxs)(Ua.a,{className:e.table,"aria-label":"simple table",children:[Object(qt.jsx)(wa.a,{children:Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:"Initiateur d'action"}),Object(qt.jsx)(Va.a,{children:"Type d'action"}),Object(qt.jsx)(Va.a,{children:"Th\xe9matique"}),Object(qt.jsx)(Va.a,{children:"Date"}),Object(qt.jsx)(Va.a,{children:"Lieu"}),Object(qt.jsx)(Va.a,{children:"Nb d'invit\xe9s"}),Object(qt.jsx)(Va.a,{children:"R\xe9capitulatif"}),Object(qt.jsx)(Va.a,{children:"Statut"})]})}),Object(qt.jsx)(ka.a,{children:s.reverse().map((function(t){return Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:t.user_email.split("@").shift()}),Object(qt.jsx)(Va.a,{children:t.action_type}),Object(qt.jsx)(Va.a,{children:t.meeting_theme}),Object(qt.jsx)(Va.a,{children:t.start_action.split("T").shift().split("-").reverse().join("/")}),Object(qt.jsx)(Va.a,{children:t.action_location}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:t.pax_number}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:Object(qt.jsx)("button",{className:"overview-action",id:t.action_id,onClick:p,children:"Voir"})}),Object(qt.jsx)(Va.a,{className:"status"+("Valid\xe9"===t.status?"validated":"Refus\xe9"===t.status?"denied":"pending"),children:t.status})]},t.action_id)}))})]})}),"CDP"===i.user_position&&Object(qt.jsx)(Pa.a,{component:v.a,style:{height:"450px",overflow:"scroll"},children:Object(qt.jsxs)(Ua.a,{className:e.table,"aria-label":"simple table",children:[Object(qt.jsx)(wa.a,{children:Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:"Initiateur d'action"}),Object(qt.jsx)(Va.a,{children:"Type d'action"}),Object(qt.jsx)(Va.a,{children:"Th\xe9matique"}),Object(qt.jsx)(Va.a,{children:"Date"}),Object(qt.jsx)(Va.a,{children:"Lieu"}),Object(qt.jsx)(Va.a,{children:"Nb d'invit\xe9s"}),Object(qt.jsx)(Va.a,{children:"R\xe9capitulatif"}),Object(qt.jsx)(Va.a,{children:"Statut"})]})}),Object(qt.jsx)(ka.a,{children:c.reverse().map((function(t){return Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:t.user_email.split("@").shift()}),Object(qt.jsx)(Va.a,{children:t.action_type}),Object(qt.jsx)(Va.a,{children:t.meeting_theme}),Object(qt.jsx)(Va.a,{children:t.start_action.split("T").shift().split("-").reverse().join("/")}),Object(qt.jsx)(Va.a,{children:t.action_location}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:t.pax_number}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:Object(qt.jsx)("button",{className:"overview-action",id:t.action_id,onClick:p,children:"Voir"})}),Object(qt.jsx)(Va.a,{className:"status"+("Valid\xe9"===t.status?"validated":"Refus\xe9"===t.status?"denied":"pending"),children:t.status})]},t.action_id)}))})]})}),"MED"===i.user_position&&Object(qt.jsx)(Pa.a,{component:v.a,style:{height:"450px",overflow:"scroll"},children:Object(qt.jsxs)(Ua.a,{className:e.table,"aria-label":"simple table",children:[Object(qt.jsx)(wa.a,{children:Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:"Initiateur d'action"}),Object(qt.jsx)(Va.a,{children:"Type d'action"}),Object(qt.jsx)(Va.a,{children:"Th\xe9matique"}),Object(qt.jsx)(Va.a,{children:"Date"}),Object(qt.jsx)(Va.a,{children:"Lieu"}),Object(qt.jsx)(Va.a,{children:"Nb d'invit\xe9s"}),Object(qt.jsx)(Va.a,{children:"R\xe9capitulatif"}),Object(qt.jsx)(Va.a,{children:"Statut"})]})}),Object(qt.jsx)(ka.a,{children:o.reverse().map((function(t){return Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:t.user_email.split("@").shift()}),Object(qt.jsx)(Va.a,{children:t.action_type}),Object(qt.jsx)(Va.a,{children:t.meeting_theme}),Object(qt.jsx)(Va.a,{children:t.start_action.split("T").shift().split("-").reverse().join("/")}),Object(qt.jsx)(Va.a,{children:t.action_location}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:t.pax_number}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:Object(qt.jsx)("button",{className:"overview-action",id:t.action_id,onClick:p,children:"Voir"})}),Object(qt.jsx)(Va.a,{className:"status"+("Valid\xe9"===t.status?"validated":"Refus\xe9"===t.status?"denied":"pending"),children:t.status})]},t.action_id)}))})]})})]})]})})},za=Object(T.a)({table:{minWidth:650},tableCell:{textAlign:"center"}}),Ya=function(){var e=za(),t=Object(d.g)(),a=Object(u.c)(),i=Object(u.d)((function(e){return e.authReducer.user[0]})),r=Object(u.d)((function(e){return e.actionsReducer.actionsUser})),s=Object(u.d)((function(e){return e.actionsReducer.VMActions})),c=Object(u.d)((function(e){return e.actionsReducer.VMValidatedActions})),o=Object(u.d)((function(e){return e.actionsReducer.loading})),l=function(e){return t.push("display-action/".concat(e.target.id))};return Object(n.useEffect)((function(){var e=!1;return e||("DSM"===i.user_position?a(ma(i.user_id)):"CDP"===i.user_position?a(_a(i.user_id)):a(Oa(i.user_id))),function(){return e=!0}}),[a,i.user_id,i.user_position]),Object(n.useEffect)((function(){a(Oa(i.user_id))}),[a,i.user_id]),o?Object(qt.jsx)(sa.a,{color:"primary",className:"spinner"}):Object(qt.jsx)("div",{style:{padding:16,margin:"auto",maxWidth:1225,height:"100%"},children:Object(qt.jsxs)(la.g,{fluid:!0,className:"main-content-container px-4",children:[Object(qt.jsx)(la.q,{noGutters:!0,className:"page-header py-4",children:Object(qt.jsx)(ua,{sm:"4",title:"Suivi d'action",subtitle:"Link-D / Actions"})}),Object(qt.jsxs)(la.q,{style:{height:500,width:"100%"},children:[Object(qt.jsx)(f.a,{item:!0,xs:12,children:Object(qt.jsx)(m.a,{variant:"h5",component:"p",children:"Tableau de suivi des demandes d'actions :"})}),"VM"===i.user_position&&Object(qt.jsx)(Pa.a,{component:v.a,style:{height:"450px",overflow:"scroll"},children:Object(qt.jsxs)(Ua.a,{className:e.table,"aria-label":"simple table",children:[Object(qt.jsx)(wa.a,{children:Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:"Type d'action"}),Object(qt.jsx)(Va.a,{children:"Th\xe9matique"}),Object(qt.jsx)(Va.a,{children:"Date"}),Object(qt.jsx)(Va.a,{children:"Lieu"}),Object(qt.jsx)(Va.a,{children:"Nb d'invit\xe9s"}),Object(qt.jsx)(Va.a,{children:"R\xe9capitulatif"}),Object(qt.jsx)(Va.a,{children:"Statut"})]})}),Object(qt.jsx)(ka.a,{children:r.reverse().filter((function(e){return"En attente de validation VM"===e.status})).map((function(t){return Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:t.action_type}),Object(qt.jsx)(Va.a,{children:t.meeting_theme}),Object(qt.jsx)(Va.a,{children:t.start_action.split("T").shift().split("-").reverse().join("/")}),Object(qt.jsx)(Va.a,{children:t.action_location}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:t.pax_number}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:Object(qt.jsx)("button",{className:"overview-action",id:t.action_id,onClick:l,children:"Voir"})}),Object(qt.jsx)(Va.a,{className:"status"+("Valid\xe9"===t.status?"validated":"Refus\xe9"===t.status?"denied":"pending"),children:t.status})]},t.action_id)}))})]})}),"DSM"===i.user_position&&Object(qt.jsx)(Pa.a,{component:v.a,style:{height:"450px",overflow:"scroll"},children:Object(qt.jsxs)(Ua.a,{className:e.table,"aria-label":"simple table",children:[Object(qt.jsx)(wa.a,{children:Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:"Initiateur d'action"}),Object(qt.jsx)(Va.a,{children:"Type d'action"}),Object(qt.jsx)(Va.a,{children:"Th\xe9matique"}),Object(qt.jsx)(Va.a,{children:"Date"}),Object(qt.jsx)(Va.a,{children:"Lieu"}),Object(qt.jsx)(Va.a,{children:"Nb d'invit\xe9s"}),Object(qt.jsx)(Va.a,{children:"R\xe9capitulatif"}),Object(qt.jsx)(Va.a,{children:"Statut"})]})}),Object(qt.jsx)(ka.a,{children:s.reverse().filter((function(e){return"En attente de validation DSM"===e.status})).map((function(t){return Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:t.user_email.split("@").shift()}),Object(qt.jsx)(Va.a,{children:t.action_type}),Object(qt.jsx)(Va.a,{children:t.meeting_theme}),Object(qt.jsx)(Va.a,{children:t.start_action.split("T").shift().split("-").reverse().join("/")}),Object(qt.jsx)(Va.a,{children:t.action_location}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:t.pax_number}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:Object(qt.jsx)("button",{className:"overview-action",id:t.action_id,onClick:l,children:"Voir"})}),Object(qt.jsx)(Va.a,{className:"status"+("Valid\xe9"===t.status?"validated":"Refus\xe9"===t.status?"denied":"pending"),children:t.status})]},t.action_id)}))})]})}),"CDP"===i.user_position&&Object(qt.jsx)(Pa.a,{component:v.a,style:{height:"450px",overflow:"scroll"},children:Object(qt.jsxs)(Ua.a,{className:e.table,"aria-label":"simple table",children:[Object(qt.jsx)(wa.a,{children:Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:"Initiateur d'action"}),Object(qt.jsx)(Va.a,{children:"Type d'action"}),Object(qt.jsx)(Va.a,{children:"Th\xe9matique"}),Object(qt.jsx)(Va.a,{children:"Date"}),Object(qt.jsx)(Va.a,{children:"Lieu"}),Object(qt.jsx)(Va.a,{children:"Nb d'invit\xe9s"}),Object(qt.jsx)(Va.a,{children:"R\xe9capitulatif"}),Object(qt.jsx)(Va.a,{children:"Statut"})]})}),Object(qt.jsx)(ka.a,{children:c.reverse().filter((function(e){return"En attente de validation CDP"===e.status})).map((function(t){return Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:t.user_email.split("@").shift()}),Object(qt.jsx)(Va.a,{children:t.action_type}),Object(qt.jsx)(Va.a,{children:t.meeting_theme}),Object(qt.jsx)(Va.a,{children:t.start_action.split("T").shift().split("-").reverse().join("/")}),Object(qt.jsx)(Va.a,{children:t.action_location}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:t.pax_number}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:Object(qt.jsx)("button",{className:"overview-action",id:t.action_id,onClick:l,children:"Voir"})}),Object(qt.jsx)(Va.a,{className:"status"+("Valid\xe9"===t.status?"validated":"Refus\xe9"===t.status?"denied":"pending"),children:t.status})]},t.action_id)}))})]})})]})]})})},Ha=a(602);var qa={fetchAgencies:function(){return Mt({method:"get",url:"/api/agencies",data:null})}};var Ga={fetchServices:function(){return Mt({method:"get",url:"/api/services",data:null})}};var Qa=function(){var e=Object(d.g)(),t=Object(u.c)(),a=Object(u.d)((function(e){return e.agenciesReducer.agencies})),i=Object(u.d)((function(e){return e.servicesReducer.services})),r=Object(u.d)((function(e){return e.actionsReducer.action})),s=function(){var e=Object(h.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Ta(a,r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){e.goBack()};Object(n.useEffect)((function(){t(function(){var e=Object(h.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:_t}),e.prev=1,e.next=4,qa.fetchAgencies();case 4:a=e.sent,t({type:ft,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:xt});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),t(function(){var e=Object(h.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:gt}),e.prev=1,e.next=4,Ga.fetchServices();case 4:a=e.sent,t({type:yt,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:St});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);var o=[{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Agences : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{type:"select",name:"agency",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.a,{name:"agency",formControlProps:{margin:"none"},multiple:!0,type:"select",native:!0,children:a.map((function(e,t){return Object(qt.jsx)("option",{value:[e.agency_email,e.agency_name],children:e.agency_name},t)}))})})}})},{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Services : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,field:Object(qt.jsx)(b.a,{type:"select",name:"service_name",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.a,{name:"service_name",formControlProps:{margin:"none"},multiple:!0,type:"select",native:!0,children:i.map((function(e,t){return Object(qt.jsx)("option",{value:e.service_name,children:e.service_name},t)}))})})}})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",children:"Commentaires :"})},{size:9,field:Object(qt.jsx)(b.a,{name:"comments",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(Ha.a,{placeholder:"Tapez des commentaires",margin:"none"})})}})}];return Object(qt.jsx)("div",{style:{padding:16,margin:"auto",maxWidth:1225,height:"100%"},children:Object(qt.jsx)(b.b,{onSubmit:s,render:function(e){var t=e.handleSubmit;e.form;return Object(qt.jsx)("form",{onSubmit:t,children:Object(qt.jsxs)(v.a,{style:{padding:16},children:[Object(qt.jsx)(f.a,{item:!0,xs:12,children:Object(qt.jsx)(m.a,{variant:"h5",component:"p",children:"Choix de service"})}),Object(qt.jsxs)(f.a,{container:!0,alignItems:"flex-start",spacing:2,children:[o.map((function(e,t){return Object(qt.jsx)(f.a,{item:!0,xs:e.size,children:e.field},t)})),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{type:"button",variant:"contained",onClick:c,children:"Pr\xe9cedent"})}),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{variant:"contained",color:"primary",type:"submit",children:"Envoyer"})})]})]})})}})})},Wa=Object(T.a)({table:{minWidth:650},tableCell:{textAlign:"center"}}),Ka=function(){var e=Wa(),t=Object(d.g)(),a=Object(u.c)(),i=Object(u.d)((function(e){return e.authReducer.user[0]})),r=Object(u.d)((function(e){return e.actionsReducer.actionsUser})),s=Object(u.d)((function(e){return e.actionsReducer.VMActions})),c=Object(u.d)((function(e){return e.actionsReducer.VMValidatedActions})),o=Object(u.d)((function(e){return e.actionsReducer.speakerActions})),l=Object(u.d)((function(e){return e.actionsReducer.loading})),p=function(e){return t.push("display-action/".concat(e.target.id))};if(Object(n.useEffect)((function(){var e=!1;return e||("DSM"===i.user_position?a(ma(i.user_id)):"CDP"===i.user_position?(a(_a(i.user_id)),a(fa())):"MED"===i.user_position?a(fa()):a(Oa(i.user_id))),function(){return e=!0}}),[a,i.user_id,i.user_position]),l)return Object(qt.jsx)(sa.a,{color:"primary",className:"spinner"});var j=new Date;return Object(qt.jsx)("div",{style:{padding:16,margin:"auto",maxWidth:1225,height:"100%"},children:Object(qt.jsxs)(la.g,{fluid:!0,className:"main-content-container px-4",children:[Object(qt.jsx)(la.q,{noGutters:!0,className:"page-header py-4",children:Object(qt.jsx)(ua,{sm:"4",title:"Suivi d'action",subtitle:"Link-D / Actions"})}),Object(qt.jsxs)(la.q,{style:{height:500,width:"100%"},children:[Object(qt.jsx)(f.a,{item:!0,xs:12,children:Object(qt.jsx)(m.a,{variant:"h5",component:"p",children:"Tableau de suivi des demandes d'actions :"})}),"VM"===i.user_position&&Object(qt.jsx)(Pa.a,{component:v.a,style:{height:"450px",overflow:"scroll"},children:Object(qt.jsxs)(Ua.a,{className:e.table,"aria-label":"simple table",children:[Object(qt.jsx)(wa.a,{children:Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:"Type d'action"}),Object(qt.jsx)(Va.a,{children:"Th\xe9matique"}),Object(qt.jsx)(Va.a,{children:"Date"}),Object(qt.jsx)(Va.a,{children:"Lieu"}),Object(qt.jsx)(Va.a,{children:"Nb d'invit\xe9s"}),Object(qt.jsx)(Va.a,{children:"R\xe9capitulatif"}),Object(qt.jsx)(Va.a,{children:"Statut"})]})}),Object(qt.jsx)(ka.a,{children:r.reverse().filter((function(e,t){return j.getTime()-new Date(e.end_action).getTime()<0})).map((function(t){return Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:t.action_type}),Object(qt.jsx)(Va.a,{children:t.meeting_theme}),Object(qt.jsx)(Va.a,{children:t.start_action.split("T").shift().split("-").reverse().join("/")}),Object(qt.jsx)(Va.a,{children:t.action_location}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:t.pax_number}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:Object(qt.jsx)("button",{className:"overview-action",id:t.action_id,onClick:p,children:"Voir"})}),Object(qt.jsx)(Va.a,{className:"status"+("Valid\xe9"===t.status?"validated":"Refus\xe9"===t.status?"denied":"pending"),children:t.status})]},t.action_id)}))})]})}),"DSM"===i.user_position&&Object(qt.jsx)(Pa.a,{component:v.a,style:{height:"450px",overflow:"scroll"},children:Object(qt.jsxs)(Ua.a,{className:e.table,"aria-label":"simple table",children:[Object(qt.jsx)(wa.a,{children:Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:"Initiateur d'action"}),Object(qt.jsx)(Va.a,{children:"Type d'action"}),Object(qt.jsx)(Va.a,{children:"Th\xe9matique"}),Object(qt.jsx)(Va.a,{children:"Date"}),Object(qt.jsx)(Va.a,{children:"Lieu"}),Object(qt.jsx)(Va.a,{children:"Nb d'invit\xe9s"}),Object(qt.jsx)(Va.a,{children:"R\xe9capitulatif"}),Object(qt.jsx)(Va.a,{children:"Statut"})]})}),Object(qt.jsx)(ka.a,{children:s.reverse().map((function(t){return Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:t.user_email.split("@").shift()}),Object(qt.jsx)(Va.a,{children:t.action_type}),Object(qt.jsx)(Va.a,{children:t.meeting_theme}),Object(qt.jsx)(Va.a,{children:t.start_action.split("T").shift().split("-").reverse().join("/")}),Object(qt.jsx)(Va.a,{children:t.action_location}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:t.pax_number}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:Object(qt.jsx)("button",{className:"overview-action",id:t.action_id,onClick:p,children:"Voir"})}),Object(qt.jsx)(Va.a,{className:"status"+("Valid\xe9"===t.status?"validated":"Refus\xe9"===t.status?"denied":"pending"),children:t.status})]},t.action_id)}))})]})}),"CDP"===i.user_position&&Object(qt.jsx)(Pa.a,{component:v.a,style:{height:"450px",overflow:"scroll"},children:Object(qt.jsxs)(Ua.a,{className:e.table,"aria-label":"simple table",children:[Object(qt.jsx)(wa.a,{children:Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:"Initiateur d'action"}),Object(qt.jsx)(Va.a,{children:"Type d'action"}),Object(qt.jsx)(Va.a,{children:"Th\xe9matique"}),Object(qt.jsx)(Va.a,{children:"Date"}),Object(qt.jsx)(Va.a,{children:"Lieu"}),Object(qt.jsx)(Va.a,{children:"Nb d'invit\xe9s"}),Object(qt.jsx)(Va.a,{children:"R\xe9capitulatif"}),Object(qt.jsx)(Va.a,{children:"Statut"})]})}),Object(qt.jsx)(ka.a,{children:c.reverse().map((function(t){return Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:t.user_email.split("@").shift()}),Object(qt.jsx)(Va.a,{children:t.action_type}),Object(qt.jsx)(Va.a,{children:t.meeting_theme}),Object(qt.jsx)(Va.a,{children:t.start_action.split("T").shift().split("-").reverse().join("/")}),Object(qt.jsx)(Va.a,{children:t.action_location}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:t.pax_number}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:Object(qt.jsx)("button",{className:"overview-action",id:t.action_id,onClick:p,children:"Voir"})}),Object(qt.jsx)(Va.a,{className:"status"+("Valid\xe9"===t.status?"validated":"Refus\xe9"===t.status?"denied":"pending"),children:t.status})]},t.action_id)}))})]})}),"MED"===i.user_position&&Object(qt.jsx)(Pa.a,{component:v.a,style:{height:"450px",overflow:"scroll"},children:Object(qt.jsxs)(Ua.a,{className:e.table,"aria-label":"simple table",children:[Object(qt.jsx)(wa.a,{children:Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:"Initiateur d'action"}),Object(qt.jsx)(Va.a,{children:"Type d'action"}),Object(qt.jsx)(Va.a,{children:"Th\xe9matique"}),Object(qt.jsx)(Va.a,{children:"Date"}),Object(qt.jsx)(Va.a,{children:"Lieu"}),Object(qt.jsx)(Va.a,{children:"Nb d'invit\xe9s"}),Object(qt.jsx)(Va.a,{children:"R\xe9capitulatif"}),Object(qt.jsx)(Va.a,{children:"Statut"})]})}),Object(qt.jsx)(ka.a,{children:o.reverse().map((function(t){return Object(qt.jsxs)(La.a,{children:[Object(qt.jsx)(Va.a,{children:t.user_email.split("@").shift()}),Object(qt.jsx)(Va.a,{children:t.action_type}),Object(qt.jsx)(Va.a,{children:t.meeting_theme}),Object(qt.jsx)(Va.a,{children:t.start_action.split("T").shift().split("-").reverse().join("/")}),Object(qt.jsx)(Va.a,{children:t.action_location}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:t.pax_number}),Object(qt.jsx)(Va.a,{className:e.tableCell,children:Object(qt.jsx)("button",{className:"overview-action",id:t.action_id,onClick:p,children:"Voir"})}),Object(qt.jsx)(Va.a,{className:"status"+("Valid\xe9"===t.status?"validated":"Refus\xe9"===t.status?"denied":"pending"),children:t.status})]},t.action_id)}))})]})})]})]})})},Ja=a(91),Xa=a.n(Ja),Za=(a(260),function(){Object(u.d)((function(e){return e.notificationsReducer.notifications}));return Object(qt.jsxs)("div",{style:{padding:16,margin:"auto",maxWidth:1225},children:[Object(qt.jsx)(la.q,{noGutters:!0,className:"page-header py-4",children:Object(qt.jsx)(ua,{sm:"4",title:"Notifications",subtitle:"Link-D / Notifications"})}),Object(qt.jsx)(v.a,{style:{padding:16}})]})});var $a={fetchNotifications:function(){return Mt({method:"get",url:"/api/notifications",data:null})},addNotification:function(e){return Mt({method:"post",url:"/api/notifications",data:e})},fetchNotificationsByVMsupervisor:function(e){return Mt({method:"get",url:"/api/notifications/:".concat(e),params:{VM_supervisor:e},data:null})},fetchNotificationsByDSMsupervisor:function(e){return Mt({method:"get",url:"/api/notifications/VM_validated/:".concat(e),params:{DSM_supervisor:e},data:null})},fetchNotificationsByCDPsupervisor:function(e){return Mt({method:"get",url:"/api/notifications/VM_validated/DSM_validated/:".concat(e),params:{CDP_supervisor:e},data:null})},markAsReadNotificationsVMsupervisorRequest:function(e){return Mt({method:"post",url:"/api/notifications/action/read/VM_supervisor/:".concat(e),params:{notification_id:e},data:null})},markAsReadNotificationsDSMsupervisorRequest:function(e){return Mt({method:"post",url:"/api/notifications/action/read/DSM_supervisor/:".concat(e),params:{notification_id:e},data:null})},markAsReadNotificationsCDPsupervisorRequest:function(e){return Mt({method:"post",url:"/api/notifications/action/read/CDP_supervisor/:".concat(e),params:{notification_id:e},data:null})}};function en(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:it}),t.prev=1,t.next=4,$a.fetchNotificationsByVMsupervisor(e);case 4:n=t.sent,a({type:rt,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:st});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function tn(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ct}),t.prev=1,t.next=4,$a.fetchNotificationsByDSMsupervisor(e);case 4:n=t.sent,a({type:ot,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:lt});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function an(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:dt}),t.prev=1,t.next=4,$a.fetchNotificationsByCDPsupervisor(e);case 4:n=t.sent,a({type:ut,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:pt});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}function nn(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"PUSH_NOTIFICATION_REQUEST"}),t.prev=1,t.next=4,$a.addNotification(e);case 4:t.sent,a({type:"PUSH_NOTIFICATION_SUCCESS"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"PUSH_NOTIFICATION_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}var rn=a(16),sn=a(18),cn=a(22),on=a(21),ln=a(69),dn=function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(e){var n;return Object(rn.a)(this,a),(n=t.call(this,e)).state={chartData:{},doctor_name:[]},n}return Object(sn.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this,a=0,n=0,i=0,r=0,s=0,c=0,o=0,l=0,d=0,u=0,p=0,j=0;if(this.props.invited_doctors){for(var h=[],b=this.props.invited_doctors.split(","),O=0;O<b.length;O++)h.push({doctor_lname:b[O].split(" ")[0],doctor_fname:b[O].split(" ")[1]});this.props.invited_doctors!==e.invited_doctors&&Mt.get("http://localhost:3000/api/doctors/invited",{params:{doctor_name:h}}).then((function(e){for(var h=e.data,b=0;b<h.length;b++)"M\xe9decin de travail"===h[b].doctor_field&&(a++,o=Math.round(a/h.length*100)),"Generaliste"===h[b].doctor_field&&(n++,l=Math.round(n/h.length*100)),"M\xe9decin G\xe9n\xe9ral"===h[b].doctor_field&&(i++,d=Math.round(i/h.length*100)),"Neuphrologie"===h[b].doctor_field&&(r++,u=Math.round(r/h.length*100)),"M\xe9decin enfant"===h[b].doctor_field&&(s++,p=Math.round(s/h.length*100)),"Chirugien"===h[b].doctor_field&&(c++,j=Math.round(c/h.length*100));t.setState({chartData:{labels:["Docteur de travail","G\xe9n\xe9raliste","Docteur g\xe9n\xe9ral","Neuphrologiste","Docteur d'enfant","Chirugien"],datasets:[{data:[o,l,d,u,p,j],backgroundColor:["rgb(229,104,56)","rgb(105,66,209)","rgb(239,191,61)","rgb(175,72,152)","rgb(89,180,189)","rgb(171,219,227)"],borderWidth:2,borderColor:["rgb(229,104,56)","rgb(105,66,209)","rgb(239,191,61)","rgb(175,72,152)","rgb(89,180,189)","rgb(171,219,227)"]}]}})}))}}},{key:"render",value:function(){var e=this.props,t=e.title;return e.isLoading?Object(qt.jsx)(sa.a,{color:"primary",className:"spinner"}):Object(qt.jsxs)(la.b,{small:!0,className:"h-100",children:[Object(qt.jsx)(la.d,{className:"border-bottom",children:Object(qt.jsx)("h6",{className:"m-0",children:t})}),Object(qt.jsx)(la.c,{className:"d-flex py-0",children:Object(qt.jsx)(ln.a,{data:this.state.chartData,options:{responsive:!0,maintainAspectRatio:!0}})})]})}}]),a}(i.a.Component);dn.defaultProps={title:"Statistiques sp\xe9cialit\xe9s m\xe9decins"};var un=Object(u.b)((function(e,t){return{doctors:e.doctorsReducer.doctors,user:e.authReducer.user,isLoading:e.doctorsReducer.isLoading}}),(function(e){return{getInvitedDoctors:function(t,a){return e(function(e,t){return function(){var a=Object(h.a)(j.a.mark((function a(n){var i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:He}),a.prev=1,a.next=4,Ea.fetchInvitedDoctors(e,t);case 4:i=a.sent,n({type:qe,payload:i.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:Ge});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))}}}))(dn),pn=function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(e){var n;return Object(rn.a)(this,a),(n=t.call(this,e)).state={chartData:{},doctor_name:[]},n}return Object(sn.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this,a=0,n=0,i=0,r=0,s=0,c=0;if(this.props.invited_doctors){for(var o=[],l=this.props.invited_doctors.split(","),d=0;d<l.length;d++)o.push({doctor_lname:l[d].split(" ")[0],doctor_fname:l[d].split(" ")[1]});this.props.invited_doctors!==e.invited_doctors&&Mt.get("http://localhost:3000/api/doctors/invited",{params:{doctor_name:o}}).then((function(e){for(var o=e.data,l=0;l<o.length;l++)"A"===o[l].doctor_potential&&(a++,r=Math.round(a/o.length*100)),"B"===o[l].doctor_potential&&(n++,s=Math.round(n/o.length*100)),"C"===o[l].doctor_potential&&(i++,c=Math.round(i/o.length*100));t.setState({chartData:{labels:["A","B","C"],datasets:[{data:[r,s,c],backgroundColor:["rgb(105,66,209)","rgb(239,191,61)","rgb(229,104,56)"],borderWidth:2,borderColor:["rgb(105,66,209)","rgb(239,191,61)","rgb(229,104,56)"]}]}})}))}}},{key:"render",value:function(){var e=this.props,t=e.title;return e.isLoading?Object(qt.jsx)(sa.a,{color:"primary",className:"spinner"}):Object(qt.jsxs)(la.b,{small:!0,className:"h-100",children:[Object(qt.jsx)(la.d,{className:"border-bottom",children:Object(qt.jsx)("h6",{className:"m-0",children:t})}),Object(qt.jsx)(la.c,{className:"d-flex py-0",children:Object(qt.jsx)(ln.a,{data:this.state.chartData,options:{responsive:!0,maintainAspectRatio:!0}})})]})}}]),a}(i.a.Component);pn.defaultProps={title:"Statistiques feedback m\xe9decins"};var jn=pn,hn=a(617),bn=a(623),On=a(618),mn=a(605),_n=a(619),fn=a(606),xn=a(68);kt.a.configure();var vn=function(){var e=Object(u.c)(),t=Object(xn.a)(),a=Object(hn.a)(t.breakpoints.down("sm")),r=i.a.useState(!1),s=Object(c.a)(r,2),o=s[0],l=s[1],p=i.a.useState(""),b=Object(c.a)(p,2),O=b[0],_=b[1],x=Object(n.useState)({}),S=Object(c.a)(x,2),T=S[0],C=S[1],E=Object(n.useState)(""),D=Object(c.a)(E,2),I=D[0],N=D[1],A=Object(n.useState)(""),R=Object(c.a)(A,2),M=R[0],U=R[1],k=Object(n.useState)(""),V=Object(c.a)(k,2),P=V[0],w=V[1],L=Object(n.useState)(""),F=Object(c.a)(L,2),B=F[0],z=F[1],Y=Object(n.useState)(""),H=Object(c.a)(Y,2),q=H[0],G=H[1],Q=Object(d.g)(),W=Q.location.pathname.split("/")[Q.location.pathname.split("/").length-1],K=Object(u.d)((function(e){return e.authReducer.user[0]})),J=Object(u.d)((function(e){return e.actionsReducer.action})),X=[{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Demandeur :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:J.user_email&&J.user_email.split("@").shift()})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Produit :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.product})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Contact :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:J.user_email})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Orateur :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:I})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Sup\xe9rieur hi\xe9rarchique :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"VM"===K.user_position?K.DSM_supervisor:"DSM"===K.user_position?K.CDP_supervisor:null})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Proposition d'orateur :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.speaker_suggestion})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Type d\u2019action :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.action_type})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Transfert :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:M})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"H\xe9bergement :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:P})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Autre staff sanofi :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:J.other_stuff})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Agenda de la r\xe9union :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:Object(qt.jsx)(g.a,{alt:"uploaded-file",className:"file",src:T.meeting_agenda})})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Date d\xe9but de l\u2019action :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:B})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Th\xe9me de la r\xe9union :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.meeting_theme})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Date fin de l\u2019action :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:q})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Nombre de Pax :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.pax_number})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Horaire :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.schedule})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Liste M\xe9decins invit\xe9s :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.invited_doctors})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Ville :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.action_town})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Autres m\xe9decins :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.other_doctors})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Lieu :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.action_location})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Commentaires :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.comments})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Autre lieu :"})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:T.other_location})}],Z=function(){l(!1)};return Object(n.useEffect)((function(){var t;e((t=W,function(){var e=Object(h.a)(j.a.mark((function e(a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:ee}),e.prev=1,e.next=4,ha.fetchActionById(t);case 4:n=e.sent,a({type:te,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:ae});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,W]),Object(n.useEffect)((function(){var e=new Date(T.start_action),t=new Date(T.end_action);J&&(C(J),J.start_action&&z(e.toLocaleDateString("fr")),J.end_action&&G(t.toLocaleDateString("fr")),J.speaker?N("Oui"):N("Non"),J.speaker_transfer?U("Oui"):U("Non"),J.speaker_accommodation?w("Oui"):w("Non"))}),[T.start_action,T.end_action,J]),Object(qt.jsxs)("div",{style:{padding:16,margin:"auto",maxWidth:1225,height:"100%"},children:[Object(qt.jsx)(la.q,{noGutters:!0,className:"page-header py-4",children:Object(qt.jsx)(ua,{sm:"4",title:"Initiation d'action",subtitle:"Link-D / Actions"})}),Object(qt.jsxs)(v.a,{style:{padding:16},children:[Object(qt.jsx)(f.a,{item:!0,xs:12,children:Object(qt.jsx)(m.a,{variant:"h5",component:"p",children:"R\xe9capitulatif de votre demande d'action"})}),Object(qt.jsxs)(f.a,{container:!0,alignItems:"flex-start",style:{marginTop:16},children:[Object(qt.jsx)(f.a,{item:!0,xs:6,style:{marginBottom:16},children:Object(qt.jsx)(m.a,{component:"p",className:"bold-title",children:"Logistique :"})}),Object(qt.jsx)(f.a,{item:!0,xs:6,children:Object(qt.jsx)(m.a,{component:"p",className:"bold-title",children:"Th\xe9matique :"})}),X.map((function(e,t){return Object(qt.jsx)(f.a,{item:!0,xs:e.size,children:e.field},t)})),Object(qt.jsxs)(la.q,{style:{margin:"0 auto"},children:[Object(qt.jsx)(la.e,{lg:"6",md:"9",sm:"12",style:{marginTop:"32px"},children:Object(qt.jsx)(jn,{invited_doctors:T.invited_doctors})}),Object(qt.jsx)(la.e,{lg:"6",md:"9",sm:"12",style:{marginTop:"32px"},children:Object(qt.jsx)(un,{invited_doctors:T.invited_doctors})})]}),Object(qt.jsxs)(f.a,{container:!0,alignItems:"flex-start",style:{marginTop:32,textAlign:"center",justifyContent:"center"},children:[Object(qt.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(){var t,a,n,i,r,s,c={},o="Action avec id ".concat(W," de la part du client ").concat(J.user_email," a \xe9t\xe9 envoy\xe9e et en attente de validation DSM!"),l="Action avec id ".concat(W," de la part du client ").concat(J.user_email," a \xe9t\xe9 valid\xe9e avec succ\xe9s de la part du DSM ").concat(K.user_email," et en attente de validation CDP"),d="Action avec id ".concat(W," de la part du client ").concat(J.user_email," a \xe9t\xe9 valid\xe9e avec succ\xe9s de la part du chef de projet ").concat(K.user_email,"!");c.notification_sender=K.user_id,c.recieved_since=new Date,"VM"===K.user_position?"En attente de validation VM"===J.status?(c.DSM_supervisor=K.DSM_supervisor,c.CDP_supervisor=K.CDP_supervisor,c.VM_supervisor=K.user_id,c.notification_name=o,e((t=W,a=K.user_email,n=K.user_id,i=J.user_email,r=K.DSM_supervisor,s=K.CDP_supervisor,function(){var e=Object(h.a)(j.a.mark((function e(c){var o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c({type:"VALIDATE_VM_STATUS_ACTION_BY_ID_REQUEST"}),e.prev=1,e.next=4,ha.validateVMStatusActionById(t,a,n,i,r,s);case 4:o=e.sent,c({type:"VALIDATE_VM_STATUS_ACTION_BY_ID_SUCCESS",payload:o.data}),kt.a.success("Votre action a \xe9t\xe9 valid\xe9e avec success et en attente de validation DSM , Veuillez v\xe9rifier votre boite email ".concat(i," SVP..."),{position:kt.a.POSITION.TOP_LEFT}),setInterval((function(){window.location.reload()}),3e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c({type:"VALIDATE_VM_STATUS_ACTION_BY_ID_FAILURE"});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())),e(nn(c)),e(ya(K.user_phone_number))):Q.push("/after-validation"):"DSM"===K.user_position?(c.VM_supervisor=J.VM_validation,c.DSM_supervisor=K.user_id,c.CDP_supervisor=K.CDP_supervisor,c.notification_name=l,0===J.speaker?(e(function(e,t,a,n){return function(){var i=Object(h.a)(j.a.mark((function i(r){var s;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r({type:"VALIDATE_DSM_STATUS_ACTION_BY_ID_REQUEST"}),i.prev=1,i.next=4,ha.validateDSMStatusActionById(e,t,a,n);case 4:s=i.sent,r({type:"VALIDATE_DSM_STATUS_ACTION_BY_ID_SUCCESS",payload:s.data}),kt.a.success("Action valid\xe9e avec success et en attente de validation CDP, Un email a \xe9t\xe9 envoy\xe9e au demandeur d'action sur l'adresse e-mail ".concat(n),{position:kt.a.POSITION.TOP_LEFT}),setInterval((function(){window.location.reload()}),3e3),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),r({type:"VALIDATE_DSM_STATUS_ACTION_BY_ID_FAILURE"});case 13:case"end":return i.stop()}}),i,null,[[1,10]])})));return function(e){return i.apply(this,arguments)}}()}(W,K.user_email,K.CDP_supervisor,J.user_email)),e(nn(c)),e(ya(K.user_phone_number))):(e(function(e,t,a,n){return function(){var i=Object(h.a)(j.a.mark((function i(r){var s;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r({type:"VALIDATE_DSM_SPEAKER_STATUS_ACTION_BY_ID_REQUEST"}),i.prev=1,i.next=4,ha.validateDSMSpeakerStatusActionById(e,t,a,n);case 4:s=i.sent,r({type:"VALIDATE_DSM_SPEAKER_STATUS_ACTION_BY_ID_SUCCESS",payload:s.data}),kt.a.success("Action valid\xe9e avec success et en attente de validation CDP et MED, Un email a \xe9t\xe9 envoy\xe9e au demandeur d'action sur l'adresse e-mail ".concat(n),{position:kt.a.POSITION.TOP_LEFT}),setInterval((function(){window.location.reload()}),3e3),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),r({type:"VALIDATE_DSM_SPEAKER_STATUS_ACTION_BY_ID_FAILURE"});case 13:case"end":return i.stop()}}),i,null,[[1,10]])})));return function(e){return i.apply(this,arguments)}}()}(W,K.user_email,K.CDP_supervisor,J.user_email)),e(nn(c)),e(ya(K.user_phone_number)))):"CDP"===K.user_position?(c.VM_supervisor=J.VM_validation,c.DSM_supervisor=K.DSM_supervisor,c.CDP_supervisor=K.user_id,c.notification_name=d,"En attente de validation CDP et MED"===J.status?(e(function(e,t,a,n){return function(){var i=Object(h.a)(j.a.mark((function i(r){var s;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r({type:"VALIDATE_CDP_FIRST_STATUS_ACTION_BY_ID_REQUEST"}),i.prev=1,i.next=4,ha.validateCDPFirstStatusActionById(e,t,a,n);case 4:s=i.sent,r({type:"VALIDATE_CDP_FIRST_STATUS_ACTION_BY_ID_SUCCESS",payload:s.data}),kt.a.success("Action valid\xe9e avec success, Un email a \xe9t\xe9 envoy\xe9e au demandeur d'action sur l'adresse e-mail ".concat(n),{position:kt.a.POSITION.TOP_LEFT}),setInterval((function(){window.location.reload()}),3e3),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),r({type:"VALIDATE_CDP_FIRST_STATUS_ACTION_BY_ID_FAILURE"});case 13:case"end":return i.stop()}}),i,null,[[1,10]])})));return function(e){return i.apply(this,arguments)}}()}(W,K.user_email,K.user_id,J.user_email)),e(nn(c)),e(ya(K.user_phone_number))):(e(function(e,t,a,n){return function(){var i=Object(h.a)(j.a.mark((function i(r){var s;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r({type:"VALIDATE_CDP_STATUS_ACTION_BY_ID_REQUEST"}),i.prev=1,i.next=4,ha.validateCDPStatusActionById(e,t,a,n);case 4:s=i.sent,r({type:"VALIDATE_CDP_STATUS_ACTION_BY_ID_SUCCESS",payload:s.data}),kt.a.success("Action valid\xe9e avec success, Un email a \xe9t\xe9 envoy\xe9e au demandeur d'action sur l'adresse e-mail ".concat(n),{position:kt.a.POSITION.TOP_LEFT}),setInterval((function(){window.location.reload()}),3e3),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),r({type:"VALIDATE_CDP_STATUS_ACTION_BY_ID_FAILURE"});case 13:case"end":return i.stop()}}),i,null,[[1,10]])})));return function(e){return i.apply(this,arguments)}}()}(W,K.user_email,K.user_id,J.user_email)),e(nn(c)),e(ya(K.user_phone_number)))):"MED"===K.user_position&&(c.VM_supervisor=J.VM_validation,c.DSM_supervisor=K.DSM_supervisor,c.CDP_supervisor=K.user_id,c.notification_name=d,"En attente de validation CDP et MED"===J.status?(e(function(e,t,a,n){return function(){var i=Object(h.a)(j.a.mark((function i(r){var s;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r({type:"VALIDATE_MED_FIRST_STATUS_ACTION_BY_ID_REQUEST"}),i.prev=1,i.next=4,ha.validateMEDFirstStatusActionById(e,t,a,n);case 4:s=i.sent,r({type:"VALIDATE_MED_FIRST_STATUS_ACTION_BY_ID_SUCCESS",payload:s.data}),kt.a.success("Action valid\xe9e avec success, Un email a \xe9t\xe9 envoy\xe9e au demandeur d'action sur l'adresse e-mail ".concat(n),{position:kt.a.POSITION.TOP_LEFT}),setInterval((function(){window.location.reload()}),3e3),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),r({type:"VALIDATE_MED_FIRST_STATUS_ACTION_BY_ID_FAILURE"});case 13:case"end":return i.stop()}}),i,null,[[1,10]])})));return function(e){return i.apply(this,arguments)}}()}(W,K.user_email,K.user_id,J.user_email)),e(nn(c)),e(ya(K.user_phone_number))):(e(function(e,t,a,n){return function(){var i=Object(h.a)(j.a.mark((function i(r){var s;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r({type:"VALIDATE_MED_STATUS_ACTION_BY_ID_REQUEST"}),i.prev=1,i.next=4,ha.validateMEDStatusActionById(e,t,a,n);case 4:s=i.sent,r({type:"VALIDATE_MED_STATUS_ACTION_BY_ID_SUCCESS",payload:s.data}),kt.a.success("Action valid\xe9e avec success, Un email a \xe9t\xe9 envoy\xe9e au demandeur d'action sur l'adresse e-mail ".concat(n),{position:kt.a.POSITION.TOP_LEFT}),setInterval((function(){window.location.reload()}),3e3),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),r({type:"VALIDATE_MED_STATUS_ACTION_BY_ID_FAILURE"});case 13:case"end":return i.stop()}}),i,null,[[1,10]])})));return function(e){return i.apply(this,arguments)}}()}(W,K.user_email,K.user_id,J.user_email)),e(nn(c)),e(ya(K.user_phone_number))))},style:{marginRight:"25px",display:"VM"===K.user_position&&"En attente de validation VM"===J.status||"VM"===K.user_position&&"Valid\xe9"===J.status||"DSM"===K.user_position&&"En attente de validation DSM"===J.status||"CDP"===K.user_position&&"En attente de validation CDP"===J.status||"CDP"===K.user_position&&"En attente de validation CDP et MED"===J.status||"MED"===K.user_position&&"En attente de validation CDP et MED"===J.status||"MED"===K.user_position&&"En attente de validation MED"===J.status?"block":"none"},children:"VM"===K.user_position?"Envoyer":"Valider"}),Object(qt.jsx)(y.a,{variant:"contained",onClick:"VM"===K.user_position?function(){Q.push("/initiation-action")}:function(){l(!0)},style:{marginRight:"25px",display:"VM"===K.user_position&&"En attente de validation VM"===J.status||"DSM"===K.user_position&&"En attente de validation DSM"===J.status||"CDP"===K.user_position&&"En attente de validation CDP"===J.status||"CDP"===K.user_position&&"En attente de validation CDP et MED"===J.status||"MED"===K.user_position&&"En attente de validation CDP et MED"===J.status||"MED"===K.user_position&&"En attente de validation MED"===J.status?"block":"none"},children:"Modifier"}),Object(qt.jsx)(y.a,{variant:"contained",color:"secondary",onClick:function(){var t,a={},n="Action avec id ".concat(W," du client ").concat(J.user_email," a \xe9t\xe9 supprim\xe9e avec succ\xe9s!"),i="Action avec id ".concat(W," du client ").concat(J.user_email," a \xe9t\xe9 rejet\xe9e de la part du DSM ").concat(K.user_email),r="Action avec id ".concat(W," du client ").concat(J.user_email," a \xe9t\xe9 rejet\xe9e de la part du chef de projet ").concat(K.user_email,"!");a.notification_sender=K.user_id,a.DSM_supervisor=K.DSM_supervisor,a.CDP_supervisor=K.CDP_supervisor,a.recieved_since=new Date,"VM"===K.user_position?"En attente de validation VM"===J.status?(a.VM_supervisor=K.user_id,a.notification_name=n,e((t=W,function(){var e=Object(h.a)(j.a.mark((function e(a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:Me}),e.prev=1,e.next=4,ha.deleteActionById(t);case 4:n=e.sent,a({type:Ue,payload:n.data}),kt.a.error("Votre action a \xe9t\xe9 retir\xe9e avec success!",{position:kt.a.POSITION.TOP_LEFT}),setInterval((function(){window.location.reload()}),1e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),a({type:ke,payload:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}())),e(nn(a)),e(Sa(K.user_phone_number))):Q.goBack():"DSM"===K.user_position?(a.VM_supervisor=J.VM_validation,a.notification_name=i,e(function(e,t){return function(){var a=Object(h.a)(j.a.mark((function a(n){var i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"DENY_STATUS_DSM_ACTION_BY_ID_REQUEST"}),a.prev=1,a.next=4,ha.denyDSMStatusActionById(e,t);case 4:i=a.sent,n({type:"DENY_STATUS_DSM_ACTION_BY_ID_SUCCESS",payload:i.data}),kt.a.error("Action rejet\xe9e avec success!",{position:kt.a.POSITION.TOP_LEFT}),setInterval((function(){window.location.reload()}),1e3),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:"DENY_STATUS_DSM_ACTION_BY_ID_FAILURE"});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}(W,K.user_id)),e(nn(a)),e(Sa(K.user_phone_number))):("CDP"===K.user_position||"MED"===K.user_position)&&(a.VM_supervisor=J.VM_validation,a.notification_name=r,e(va(W,K.user_id)),e(nn(a)),e(Sa(K.user_phone_number)))},style:{marginRight:"25px",display:"VM"===K.user_position&&"En attente de validation VM"===J.status||"VM"===K.user_position&&"Valid\xe9"===J.status||"DSM"===K.user_position&&"En attente de validation DSM"===J.status||"CDP"===K.user_position&&"En attente de validation CDP"===J.status||"CDP"===K.user_position&&"En attente de validation CDP et MED"===J.status||"MED"===K.user_position&&"En attente de validation CDP et MED"===J.status||"MED"===K.user_position&&"En attente de validation MED"===J.status?"block":"none"},children:"VM"===K.user_position&&"En attente de validation VM"===J.status?"Supprimer":"VM"===K.user_position&&"Valid\xe9"===J.status?"Retour":"Refuser"})]})]}),Object(qt.jsxs)(bn.a,{fullScreen:a,open:o,onClose:Z,"aria-labelledby":"responsive-dialog-title",children:[Object(qt.jsx)(On.a,{id:"responsive-dialog-title",children:"Raison de modification d'action"}),Object(qt.jsx)(mn.a,{children:Object(qt.jsx)(_n.a,{children:Object(qt.jsx)(Ha.a,{id:"standard-multiline-flexible",label:"Tapez la raison ici",multiline:!0,rowsMax:4,onChange:function(e){return _(e.target.value)}})})}),Object(qt.jsxs)(fn.a,{children:[Object(qt.jsx)(y.a,{autoFocus:!0,onClick:Z,color:"primary",children:"Annuler"}),Object(qt.jsx)(y.a,{onClick:function(){var t={},a="Action avec id ".concat(W," de la part du client ").concat(J.user_email," a \xe9t\xe9 en retour avec modification de la part du DSM ").concat(K.user_email," pour la raison ").concat(O),n="Action avec id ".concat(W," de la part du client ").concat(J.user_email," a \xe9t\xe9 en retour avec modification de la part du CDP ").concat(K.user_email," pour la raison ").concat(O),i="Action avec id ".concat(W," de la part du client ").concat(J.user_email," a \xe9t\xe9 en retour avec modification de la part du MED ").concat(K.user_email," pour la raison ").concat(O);t.notification_sender=K.user_id,t.DSM_supervisor=K.DSM_supervisor,t.CDP_supervisor=K.CDP_supervisor,t.recieved_since=new Date,"VM"===K.user_position&&(t.VM_supervisor=J.VM_validation,t.notification_name=a,e(nn(t)),e(xa(J.action_id))),"DSM"===K.user_position&&(t.VM_supervisor=J.VM_validation,t.notification_name=a,e(nn(t)),e(ga(J.action_id))),"CDP"===K.user_position&&(t.VM_supervisor=J.VM_validation,t.notification_name=n,e(nn(t)),e(ga(J.action_id))),"MED"===K.user_position&&(t.VM_supervisor=J.VM_validation,t.notification_name=i,e(nn(t)),e(ga(J.action_id)))},color:"primary",autoFocus:!0,children:"Enregistrer"})]})]})]})]})},gn=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],i=t[1],r=Object(u.c)(),s=Object(u.d)((function(e){return e.authReducer.user[0]})),o=Object(u.d)((function(e){return e.doctorsReducer.isLoading})),l=function(e){i(e.target.files[0])},d=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FormData).append("file",a,a.name),n.append("values",JSON.stringify(t)),r(Ft(s.user_id,n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=[{size:3,field:Object(qt.jsxs)(m.a,{className:"typography",style:{marginTop:"18px"},children:["Mettre \xe0 jour votre photo de profil : ",Object(qt.jsx)("span",{className:"red-star",children:"*"})]})},{size:9,display:!0,field:Object(qt.jsx)(b.a,{name:"user_avatar",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{name:"user_avatar",margin:"none",type:"file",onChange:l,value:a.filename})})}})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Mot de passe :"})},{size:9,field:Object(qt.jsx)(b.a,{name:"user_password",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{type:"password",label:"Tapez votre nouveau mot de passe",name:"user_password",margin:"none"})})}})},{size:3,field:Object(qt.jsx)(m.a,{className:"typography",style:{marginTop:"18px"},children:"Mot de passe v\xe9rification :"})},{size:9,field:Object(qt.jsx)(b.a,{name:"user_password_confirmation",children:function(e){return Object(qt.jsx)("div",{children:Object(qt.jsx)(O.b,{type:"password",label:"Tapez \xe0 nouveau votre nouveau mot de passe",name:"user_password_confirmation",margin:"none"})})}})}];return o?Object(qt.jsx)(sa.a,{color:"primary"}):Object(qt.jsxs)("div",{style:{padding:16,margin:"auto",maxWidth:1225},children:[Object(qt.jsx)(la.q,{noGutters:!0,className:"page-header py-4",children:Object(qt.jsx)(ua,{sm:"4",title:"Initiation d'action",subtitle:"Link-D / Actions"})}),Object(qt.jsx)(b.b,{onSubmit:d,validate:function(e){var t={};return e.user_password!==e.user_password_confirmation&&(t.user_password="Vous devez saisir le m\xe9me mot de passe",t.user_password_confirmation="Vous devez saisir le m\xe9me mot de passe"),t},render:function(e){var t=e.handleSubmit,a=e.form;return Object(qt.jsx)("form",{onSubmit:t,encType:"multipart/form-data",children:Object(qt.jsxs)(v.a,{style:{padding:16},children:[Object(qt.jsx)(f.a,{item:!0,xs:12,children:Object(qt.jsx)(m.a,{variant:"h5",component:"p",children:"Modifier le profil"})}),Object(qt.jsxs)(f.a,{container:!0,alignItems:"flex-start",spacing:2,children:[p.map((function(e,t){return Object(qt.jsx)(f.a,{item:!0,xs:e.size,children:e.field},t)})),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{type:"button",variant:"contained",onClick:a.reset,children:"Reinitialiser"})}),Object(qt.jsx)(f.a,{item:!0,style:{marginTop:16},children:Object(qt.jsx)(y.a,{variant:"contained",color:"primary",type:"submit",children:"Enregistrer"})})]})]})})}})]})},yn=function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(e){var n;return Object(rn.a)(this,a),(n=t.call(this,e)).state={doctors:[],chartData:{}},n}return Object(sn.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=0,a=0,n=0,i=0,r=0,s=0,c=0,o=0,l=0,d=0,u=0,p=0;this.props.user.length&&("VM"===this.props.user[0].user_position?Mt.get("http://localhost:3000/api/doctors/VMsupervisors/".concat(this.props.user[0].user_id),{params:{user_id:this.props.user[0].user_id}}).then((function(j){for(var h=j.data,b=0;b<h.length;b++)"M\xe9decin de travail"===h[b].doctor_field&&(t++,c=Math.round(t/h.length*100)),"Generaliste"===h[b].doctor_field&&(a++,o=Math.round(a/h.length*100)),"M\xe9decin G\xe9n\xe9ral"===h[b].doctor_field&&(n++,l=Math.round(n/h.length*100)),"Neuphrologie"===h[b].doctor_field&&(i++,d=Math.round(i/h.length*100)),"M\xe9decin enfant"===h[b].doctor_field&&(r++,u=Math.round(r/h.length*100)),"Chirugien"===h[b].doctor_field&&(s++,p=Math.round(s/h.length*100));e.setState({chartData:{labels:["Docteur de travail","G\xe9n\xe9raliste","Docteur g\xe9n\xe9ral","Neuphrologiste","Docteur d'enfant","Chirugien"],datasets:[{data:[c,o,l,d,u,p],backgroundColor:["rgb(229,104,56)","rgb(105,66,209)","rgb(239,191,61)","rgb(175,72,152)","rgb(89,180,189)","rgb(171,219,227)"],borderWidth:2,borderColor:["rgb(229,104,56)","rgb(105,66,209)","rgb(239,191,61)","rgb(175,72,152)","rgb(89,180,189)","rgb(171,219,227)"]}]}})})):"DSM"===this.props.user[0].user_position?Mt.get("http://localhost:3000/api/doctors/VMsupervisors/".concat(this.props.user[0].VM_supervisor),{params:{user_id:this.props.user[0].VM_supervisor}}).then((function(j){console.log(j);for(var h=j.data,b=0;b<h.length;b++)"M\xe9decin de travail"===h[b].doctor_field&&(t++,c=Math.round(t/h.length*100)),"Generaliste"===h[b].doctor_field&&(a++,o=Math.round(a/h.length*100)),"M\xe9decin G\xe9n\xe9ral"===h[b].doctor_field&&(n++,l=Math.round(n/h.length*100)),"Neuphrologie"===h[b].doctor_field&&(i++,d=Math.round(i/h.length*100)),"M\xe9decin enfant"===h[b].doctor_field&&(r++,u=Math.round(r/h.length*100)),"Chirugien"===h[b].doctor_field&&(s++,p=Math.round(s/h.length*100));e.setState({chartData:{labels:["Docteur de travail","G\xe9n\xe9raliste","Docteur g\xe9n\xe9ral","Neuphrologiste","Docteur d'enfant","Chirugien"],datasets:[{data:[c,o,l,d,u,p],backgroundColor:["rgb(229,104,56)","rgb(105,66,209)","rgb(239,191,61)","rgb(175,72,152)","rgb(89,180,189)","rgb(171,219,227)"],borderWidth:2,borderColor:["rgb(229,104,56)","rgb(105,66,209)","rgb(239,191,61)","rgb(175,72,152)","rgb(89,180,189)","rgb(171,219,227)"]}]}})})):"CDP"===this.props.user[0].user_position&&Mt.get("http://localhost:3000/api/doctors",{}).then((function(j){for(var h=j.data,b=0;b<h.length;b++)"M\xe9decin de travail"===h[b].doctor_field&&(t++,c=Math.round(t/h.length*100)),"Generaliste"===h[b].doctor_field&&(a++,o=Math.round(a/h.length*100)),"M\xe9decin G\xe9n\xe9ral"===h[b].doctor_field&&(n++,l=Math.round(n/h.length*100)),"Neuphrologie"===h[b].doctor_field&&(i++,d=Math.round(i/h.length*100)),"M\xe9decin enfant"===h[b].doctor_field&&(r++,u=Math.round(r/h.length*100)),"Chirugien"===h[b].doctor_field&&(s++,p=Math.round(s/h.length*100));e.setState({chartData:{labels:["Docteur de travail","G\xe9n\xe9raliste","Docteur g\xe9n\xe9ral","Neuphrologiste","Docteur d'enfant","Chirugien"],datasets:[{data:[c,o,l,d,u,p],backgroundColor:["rgb(229,104,56)","rgb(105,66,209)","rgb(239,191,61)","rgb(175,72,152)","rgb(89,180,189)","rgb(171,219,227)"],borderWidth:2,borderColor:["rgb(229,104,56)","rgb(105,66,209)","rgb(239,191,61)","rgb(175,72,152)","rgb(89,180,189)","rgb(171,219,227)"]}]}})})))}},{key:"render",value:function(){var e=this.props,t=e.title;return e.isLoading?Object(qt.jsx)(sa.a,{color:"primary",className:"spinner"}):Object(qt.jsxs)(la.b,{small:!0,className:"h-100",children:[Object(qt.jsx)(la.d,{className:"border-bottom",children:Object(qt.jsx)("h6",{className:"m-0",children:t})}),Object(qt.jsx)(la.c,{className:"d-flex py-0",children:Object(qt.jsx)(ln.a,{data:this.state.chartData,options:{responsive:!0,maintainAspectRatio:!0}})})]})}}]),a}(i.a.Component);yn.defaultProps={title:"Statistiques sp\xe9cialit\xe9s m\xe9decins"};var Sn=Object(u.b)((function(e,t){return{doctors:e.doctorsReducer.doctors,user:e.authReducer.user,isLoading:e.doctorsReducer.isLoading}}),null)(yn),Tn=function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(e){var n;return Object(rn.a)(this,a),(n=t.call(this,e)).state={doctors:[],chartData:{}},n}return Object(sn.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=0,a=0,n=0,i=0,r=0,s=0;this.props.user.length&&("VM"===this.props.user[0].user_position?Mt.get("http://localhost:3000/api/doctors/VMsupervisors/".concat(this.props.user[0].user_id),{params:{user_id:this.props.user[0].user_id}}).then((function(c){for(var o=c.data,l=0;l<o.length;l++)"A"===o[l].doctor_potential&&(t++,i=Math.round(t/o.length*100)),"B"===o[l].doctor_potential&&(a++,r=Math.round(a/o.length*100)),"C"===o[l].doctor_potential&&(n++,s=Math.round(n/o.length*100));e.setState({chartData:{labels:["A","B","C"],datasets:[{data:[i,r,s],backgroundColor:["rgb(105,66,209)","rgb(239,191,61)","rgb(229,104,56)"],borderWidth:2,borderColor:["rgb(105,66,209)","rgb(239,191,61)","rgb(229,104,56)"]}]}})})):"DSM"===this.props.user[0].user_position?Mt.get("http://localhost:3000/api/doctors/VMsupervisors/".concat(this.props.user[0].VM_supervisor),{params:{user_id:this.props.user[0].VM_supervisor}}).then((function(c){for(var o=c.data,l=0;l<o.length;l++)"A"===o[l].doctor_potential&&(t++,i=Math.round(t/o.length*100)),"B"===o[l].doctor_potential&&(a++,r=Math.round(a/o.length*100)),"C"===o[l].doctor_potential&&(n++,s=Math.round(n/o.length*100));e.setState({chartData:{labels:["A","B","C"],datasets:[{data:[i,r,s],backgroundColor:["rgb(105,66,209)","rgb(239,191,61)","rgb(229,104,56)"],borderWidth:2,borderColor:["rgb(105,66,209)","rgb(239,191,61)","rgb(229,104,56)"]}]}})})):"CDP"===this.props.user[0].user_position&&Mt.get("http://localhost:3000/api/doctors",{}).then((function(c){for(var o=c.data,l=0;l<o.length;l++)"A"===o[l].doctor_potential&&(t++,i=Math.round(t/o.length*100)),"B"===o[l].doctor_potential&&(a++,r=Math.round(a/o.length*100)),"C"===o[l].doctor_potential&&(n++,s=Math.round(n/o.length*100));e.setState({chartData:{labels:["A","B","C"],datasets:[{data:[i,r,s],backgroundColor:["rgb(105,66,209)","rgb(239,191,61)","rgb(229,104,56)"],borderWidth:2,borderColor:["rgb(105,66,209)","rgb(239,191,61)","rgb(229,104,56)"]}]}})})))}},{key:"render",value:function(){var e=this.props,t=e.title;return e.isLoading?Object(qt.jsx)(sa.a,{color:"primary",className:"spinner"}):Object(qt.jsxs)(la.b,{small:!0,className:"h-100",children:[Object(qt.jsx)(la.d,{className:"border-bottom",children:Object(qt.jsx)("h6",{className:"m-0",children:t})}),Object(qt.jsx)(la.c,{className:"d-flex py-0",children:Object(qt.jsx)(ln.a,{data:this.state.chartData,options:{responsive:!0,maintainAspectRatio:!0}})})]})}}]),a}(i.a.Component);Tn.defaultProps={title:"Statistiques feedback m\xe9decins"};var Cn=Object(u.b)((function(e,t){return{user:e.authReducer.user,doctors:e.doctorsReducer.doctors}}),null)(Tn),En=function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(e){var n;return Object(rn.a)(this,a),(n=t.call(this,e)).state={actions:[],user:{},chartData:{},validated:0,denied:0,pending:0},n}return Object(sn.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=0,a=0,n=0,i=0,r=0,s=0,c=0,o=0,l=0,d=0,u=0,p=!1;try{this.props.user.length>0&&this.setState({user:this.props.user[0]})}catch(j){console.log(j)}p||this.props.user[0]&&("VM"===this.props.user[0].user_position?Mt.get("http://localhost:3000/api/actions/user/user_id?user_id=".concat(this.props.user[0].user_id)).then((function(p){for(var j=p.data,h=0;h<j.length;h++)"En attente de validation VM"===j[h].status&&(t++,c=t/j.length*100),"En attente de validation DSM"===j[h].status&&(a++,o=a/j.length*100),"En attente de validation CDP"===j[h].status&&(n++,l=n/j.length*100),"Valid\xe9"===j[h].status&&(i++,u=Math.round(i/j.length*100)),"Refus\xe9"===j[h].status&&(r++,d=Math.round(r/j.length*100));s=Math.round(c+o+l),e.setState({chartData:{labels:["En attente","Valid\xe9","Refus\xe9"],datasets:[{data:[s,u,d],backgroundColor:["rgb(239,191,61)","rgb(105,66,209)","rgb(229,104,56)"],borderWidth:2,borderColor:["rgb(239,191,61)","rgb(105,66,209)","rgb(229,104,56)"]}]}})})):"DSM"===this.props.user[0].user_position?Mt.get("http://localhost:3000/api/actions/user/VM/actions/:".concat(this.props.user[0].user_id),{params:{user_id:this.props.user[0].user_id}}).then((function(t){for(var n=t.data,s=0;s<n.length;s++)"En attente de validation DSM"===n[s].status&&(a++,o=a/n.length*100),"Valid\xe9"===n[s].status&&(i++,u=Math.round(i/n.length*100)),"Refus\xe9"===n[s].status&&(r++,d=Math.round(r/n.length*100));e.setState({chartData:{labels:["En attente","Valid\xe9","Refus\xe9"],datasets:[{data:[o,u,d],backgroundColor:["rgb(239,191,61)","rgb(105,66,209)","rgb(229,104,56)"],borderWidth:2,borderColor:["rgb(239,191,61)","rgb(105,66,209)","rgb(229,104,56)"]}]}})})):"CDP"===this.props.user[0].user_position&&Mt.get("http://localhost:3000/api/actions/user/VM/validated/actions/:".concat(this.props.user[0].user_id),{params:{user_id:this.props.user[0].user_id}}).then((function(t){for(var a=t.data,s=0;s<a.length;s++)"En attente de validation CDP"===a[s].status&&(n++,l=n/a.length*100),"Valid\xe9"===a[s].status&&(i++,u=Math.round(i/a.length*100)),"Refus\xe9"===a[s].status&&(r++,d=Math.round(r/a.length*100));e.setState({chartData:{labels:["En attente","Valid\xe9","Refus\xe9"],datasets:[{data:[l,u,d],backgroundColor:["rgb(239,191,61)","rgb(105,66,209)","rgb(229,104,56)"],borderWidth:2,borderColor:["rgb(239,191,61)","rgb(105,66,209)","rgb(229,104,56)"]}]}})}))),p=!0}},{key:"render",value:function(){var e=this.props.title;return Object(qt.jsxs)(la.b,{small:!0,className:"h-100",children:[Object(qt.jsx)(la.d,{className:"border-bottom",children:Object(qt.jsx)("h6",{className:"m-0",children:e})}),Object(qt.jsx)(la.c,{className:"d-flex py-0",children:Object(qt.jsx)(ln.a,{data:this.state.chartData,options:{responsive:!0,maintainAspectRatio:!0}})})]})}}]),a}(i.a.Component);En.defaultProps={title:"Rapport sur les actions"};var Dn=Object(u.b)((function(e,t){return{actions:e.actionsReducer.actionsUser,user:e.authReducer.user,isLoading:e.authReducer.isLoading}}),null)(En),In=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],i=t[1],r=Object(u.d)((function(e){return e.authReducer.user}));return Object(n.useEffect)((function(){r.length&&i(r[0].user_email.split("@").shift())}),[r]),Object(qt.jsx)("div",{style:{padding:16,margin:"auto",maxWidth:1225,height:"100%"},children:Object(qt.jsxs)(la.g,{fluid:!0,className:"main-content-container px-4",children:[Object(qt.jsx)(la.q,{noGutters:!0,className:"page-header py-4",children:Object(qt.jsx)(ua,{title:"Bonjour ".concat(a),subtitle:"Dashboard",className:"text-sm-left mb-3"})}),Object(qt.jsxs)(la.q,{style:{textAlign:"center",justifyContent:"center"},children:[Object(qt.jsx)(la.e,{lg:"4",md:"9",sm:"12",className:"mb-4",children:Object(qt.jsx)(Dn,{})}),Object(qt.jsx)(la.e,{lg:"4",md:"9",sm:"12",className:"mb-4",children:Object(qt.jsx)(Cn,{})}),Object(qt.jsx)(la.e,{lg:"4",md:"9",sm:"12",className:"mb-4",children:Object(qt.jsx)(Sn,{})})]})]})})},Nn=a(34),An=a(40),Rn=function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(e){var n;return Object(rn.a)(this,a),(n=t.call(this,e)).state={notificationsVM_supervisor:[],notificationsDSM_supervisor:[],notificationsCDP_supervisor:[],user:{},notesActionSender:[],alertNotif:{},VM_counter:0,DSM_counter:0,CDP_counter:0,showCounter:!0,visible:!1},n.toggleNotifications=n.toggleNotifications.bind(Object(Nn.a)(n)),n}return Object(sn.a)(a,[{key:"toggleNotifications",value:function(){this.setState({visible:!this.state.visible}),this.setState({showCounter:!1})}},{key:"componentDidMount",value:function(){this.props.user.length&&this.setState({user:this.props.user[0]})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if("VM"===this.state.user.user_position){var t=e.VM_notif.reverse(),a=t.filter((function(e){return 0===e.markAsRead_VM_supervisor})).length;this.setState({notificationsVM_supervisor:t}),this.setState({VM_counter:a})}else if("DSM"===this.state.user.user_position){var n=e.DSM_notif.reverse(),i=n.filter((function(e){return 0===e.markAsRead_DSM_supervisor})).length;this.setState({notificationsDSM_supervisor:n}),this.setState({DSM_counter:i})}else if("CDP"===this.state.user.user_position){var r=e.CDP_notif.reverse(),s=r.filter((function(e){return 0===e.markAsRead_CDP_supervisor})).length;this.setState({notificationsCDP_supervisor:r}),this.setState({CDP_counter:s})}}},{key:"componentDidUpdate",value:function(){var e=this.state.notificationsVM_supervisor,t=this.state.notificationsDSM_supervisor,a=this.state.notificationsCDP_supervisor;if("VM"===this.state.user.user_position){if(this.state.visible)for(var n=0;n<e.length;n++)0===e[n].markAsRead_VM_supervisor&&this.props.markAsReadNotificationsByVMsupervisor(e[n].notification_id)}else if("DSM"===this.state.user.user_position){if(this.state.visible)for(var i=0;i<t.length;i++)0===t[i].markAsRead_DSM_supervisor&&this.props.markAsReadNotificationsByDSMsupervisor(t[i].notification_id)}else if("CDP"===this.state.user.user_position&&this.state.visible)for(var r=0;r<a.length;r++)0===a[r].markAsRead_CDP_supervisor&&this.props.markAsReadNotificationsByCDPsupervisor(a[r].notification_id)}},{key:"render",value:function(){return Object(qt.jsxs)(la.m,{className:"border-right dropdown notifications",children:[Object(qt.jsx)(la.n,{className:"nav-link-icon text-center",onClick:this.toggleNotifications,children:Object(qt.jsxs)("div",{className:"nav-link-icon__wrapper",children:[Object(qt.jsx)("i",{className:"material-icons",children:"\ue7f4"}),this.state.showCounter&&0!==this.state.VM_counter&&Object(qt.jsxs)(la.a,{pill:!0,theme:"danger",className:"notifications-badge",children:[this.state.VM_counter,"+"]}),this.state.showCounter&&0!==this.state.DSM_counter&&Object(qt.jsxs)(la.a,{pill:!0,theme:"danger",className:"notifications-badge",children:[this.state.DSM_counter,"+"]}),this.state.showCounter&&0!==this.state.CDP_counter&&Object(qt.jsxs)(la.a,{pill:!0,theme:"danger",className:"notifications-badge",children:[this.state.CDP_counter,"+"]})]})}),Object(qt.jsxs)(la.f,{open:this.state.visible,className:this.state.notificationsVM_supervisor.length||this.state.notificationsDSM_supervisor.length||this.state.notificationsCDP_supervisor.length?"dropdown-menu dropdown-menu-small notif":"dropdown-menu dropdown-menu-small no-notif",children:["VM"===this.state.user.user_position&&this.state.notificationsVM_supervisor.length&&this.state.notificationsVM_supervisor.map((function(e,t){return Object(qt.jsx)(la.i,{children:Object(qt.jsxs)("div",{children:[Object(qt.jsx)("span",{children:e.notification_name}),Object(qt.jsx)("br",{}),Object(qt.jsxs)("span",{className:"time-left",children:["Il y a ",Xa()(new Date).from(new Date(e.recieved_since)).split("dans")]})]})},t)})),"DSM"===this.state.user.user_position&&this.state.notificationsDSM_supervisor.length&&this.state.notificationsDSM_supervisor.map((function(e,t){return Object(qt.jsx)(la.i,{children:Object(qt.jsxs)("div",{children:[Object(qt.jsx)("span",{children:e.notification_name}),Object(qt.jsx)("br",{}),Object(qt.jsxs)("span",{className:"time-left",children:["Il y a ",Xa()(new Date).from(new Date(e.recieved_since)).split("dans")]})]})},t)})),"CDP"===this.state.user.user_position&&this.state.notificationsCDP_supervisor.length&&this.state.notificationsCDP_supervisor.map((function(e,t){return Object(qt.jsx)(la.i,{children:Object(qt.jsxs)("div",{children:[Object(qt.jsx)("span",{children:e.notification_name}),Object(qt.jsx)("br",{}),Object(qt.jsxs)("span",{className:"time-left",children:["Il y a ",Xa()(new Date).from(new Date(e.recieved_since)).split("dans")]})]})},t)})),Object(qt.jsx)(la.i,{tag:An.b,to:"all-notifications",className:"notification__all text-center",children:"Toutes les notifications"})]})]})}}]),a}(i.a.Component),Mn=Object(u.b)((function(e,t){return{user:e.authReducer.user,lastNotification:e.notificationsReducer.lastNotification}}),(function(e){return{markAsReadNotificationsByVMsupervisor:function(t){return e(function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"MARK_AS_READ_NOTIFICATIONS_BY_VM_SUPERVISOR_REQUEST"}),t.prev=1,t.next=4,$a.markAsReadNotificationsVMsupervisorRequest(e);case 4:t.sent,a({type:"MARK_AS_READ_NOTIFICATIONS_BY_VM_SUPERVISOR_SUCCESS"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"MARK_AS_READ_NOTIFICATIONS_BY_VM_SUPERVISOR_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},markAsReadNotificationsByDSMsupervisor:function(t){return e(function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"MARK_AS_READ_NOTIFICATIONS_BY_DSM_SUPERVISOR_REQUEST"}),t.prev=1,t.next=4,$a.markAsReadNotificationsDSMsupervisorRequest(e);case 4:t.sent,a({type:"MARK_AS_READ_NOTIFICATIONS_BY_DSM_SUPERVISOR_SUCCESS"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"MARK_AS_READ_NOTIFICATIONS_BY_DSM_SUPERVISOR_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},markAsReadNotificationsByCDPsupervisor:function(t){return e(function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"MARK_AS_READ_NOTIFICATIONS_BY_CDP_SUPERVISOR_REQUEST"}),t.prev=1,t.next=4,$a.markAsReadNotificationsCDPsupervisorRequest(e);case 4:t.sent,a({type:"MARK_AS_READ_NOTIFICATIONS_BY_CDP_SUPERVISOR_SUCCESS"}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"MARK_AS_READ_NOTIFICATIONS_BY_CDP_SUPERVISOR_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Rn),Un=function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(e){var n;return Object(rn.a)(this,a),(n=t.call(this,e)).state={visible:!1,username:""},n.toggleUserActions=n.toggleUserActions.bind(Object(Nn.a)(n)),n.handleLogout=n.handleLogout.bind(Object(Nn.a)(n)),n}return Object(sn.a)(a,[{key:"toggleUserActions",value:function(){this.setState({visible:!this.state.visible})}},{key:"handleLogout",value:function(){this.props.logoutUser()}},{key:"componentDidMount",value:function(){try{this.props.user.length>0&&(this.setState({username:this.props.user[0].user_email.split("@").shift()}),this.setState({user_avatar:this.props.user[0].user_avatar}))}catch(e){console.log(e)}}},{key:"render",value:function(){return Object(qt.jsxs)(la.m,{tag:la.h,caret:!0,toggle:this.toggleUserActions,children:[Object(qt.jsxs)(la.k,{caret:!0,tag:la.n,className:"text-nowrap px-3",children:[Object(qt.jsx)(g.a,{alt:"Knaizia Yassine",className:"user-avatar rounded-circle mr-2",src:this.state.user_avatar}),Object(qt.jsx)("span",{className:"d-none d-md-inline-block",children:this.state.username})]}),Object(qt.jsxs)(la.f,{tag:la.j,right:!0,small:!0,open:this.state.visible,children:[Object(qt.jsxs)(la.i,{tag:An.b,to:"user-profile",children:[Object(qt.jsx)("i",{className:"material-icons",children:"\ue7fd"})," Mon profil"]}),Object(qt.jsxs)(la.i,{tag:An.b,to:"edit-user-profile",children:[Object(qt.jsx)("i",{className:"material-icons",children:"\ue8b8"})," Mes param\xe9tres"]}),Object(qt.jsxs)(la.i,{tag:An.b,to:"file-manager-list",children:[Object(qt.jsx)("i",{className:"material-icons",children:"\ue2c7"})," Confidentialit\xe9"]}),Object(qt.jsxs)(la.i,{tag:An.b,to:"transaction-history",children:[Object(qt.jsx)("i",{className:"material-icons",children:"\ue896"})," A propos"]}),Object(qt.jsx)(la.i,{divider:!0}),Object(qt.jsxs)(la.i,{onClick:this.handleLogout,tag:An.b,to:"/",className:"text-danger",children:[Object(qt.jsx)("i",{className:"material-icons",children:"power_settings_new"})," D\xe9connextion"]})]})]})}}]),a}(i.a.Component),kn=Object(u.b)((function(e,t){return{user:e.authReducer.user}}),(function(e){return{logoutUser:function(){return e(Lt())}}}))(Un),Vn=function(e){var t=e.VM_notif,a=e.DSM_notif,n=e.CDP_notif,i=e.notes;return Object(qt.jsxs)(la.l,{navbar:!0,className:"border-left flex-row",children:[Object(qt.jsx)(Mn,{notes:i,VM_notif:t,DSM_notif:a,CDP_notif:n}),Object(qt.jsx)(kn,{})]})},Pn="CHANGE",wn="TOGGLE_SIDEBAR",Ln=new(a(311).Dispatcher),Fn=a(312),Bn={menuVisible:!1,navItems:function(){return[{title:"Dashboard",to:"/dashboard",htmlBefore:'<i class="material-icons">house</i>'},{title:"Initiation actions",htmlBefore:'<i class="material-icons">library_books</i>',to:"/initiation-action"},{title:"Suivi actions",htmlBefore:'<i class="material-icons">tablet_mac</i>',to:"/monitoring-action"},{title:"Validation actions",htmlBefore:'<i class="material-icons">mobile_friendly</i>',to:"/action-validation"},{title:"Archivage actions",htmlBefore:'<i class="material-icons">mobile_friendly</i>',to:"/action-archiving"}]}()},zn=new(function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(){var e;return Object(rn.a)(this,a),(e=t.call(this)).registerToActions=e.registerToActions.bind(Object(Nn.a)(e)),e.toggleSidebar=e.toggleSidebar.bind(Object(Nn.a)(e)),Ln.register(e.registerToActions.bind(Object(Nn.a)(e))),e}return Object(sn.a)(a,[{key:"registerToActions",value:function(e){var t=e.actionType;e.payload;switch(t){case wn:this.toggleSidebar()}}},{key:"toggleSidebar",value:function(){Bn.menuVisible=!Bn.menuVisible,this.emit(Pn)}},{key:"getMenuState",value:function(){return Bn.menuVisible}},{key:"getSidebarItems",value:function(){return Bn.navItems}},{key:"addChangeListener",value:function(e){this.on(Pn,e)}},{key:"removeChangeListener",value:function(e){this.removeListener(Pn,e)}}]),a}(Fn.EventEmitter)),Yn=function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(e){var n;return Object(rn.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(Nn.a)(n)),n}return Object(sn.a)(a,[{key:"handleClick",value:function(){Ln.dispatch({actionType:wn})}},{key:"render",value:function(){return Object(qt.jsx)("nav",{className:"nav",children:Object(qt.jsx)("a",{href:"#",onClick:this.handleClick,className:"nav-link nav-link-icon toggle-sidebar d-sm-inline d-md-inline d-lg-none text-center",children:Object(qt.jsx)("i",{className:"material-icons",children:"\ue5d2"})})})}}]),a}(i.a.Component),Hn=function(e){e.layout;var t=e.stickyTop,a=e.VM_notif,n=e.DSM_notif,i=e.CDP_notif,r=e.notes,s=oa()("main-navbar","bg-white",t&&"sticky-top");return Object(qt.jsx)("div",{className:s,children:Object(qt.jsx)(la.g,{className:"p-0",children:Object(qt.jsxs)(la.o,{type:"light",className:"align-items-stretch flex-md-nowrap p-0",children:[Object(qt.jsx)(Yn,{}),Object(qt.jsx)(Vn,{notes:r,VM_notif:a,DSM_notif:n,CDP_notif:i})]})})})};Hn.defaultProps={stickyTop:!0};var qn=Hn,Gn=function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(e){var n;return Object(rn.a)(this,a),(n=t.call(this,e)).handleToggleSidebar=n.handleToggleSidebar.bind(Object(Nn.a)(n)),n}return Object(sn.a)(a,[{key:"handleToggleSidebar",value:function(){Ln.dispatch({actionType:wn})}},{key:"render",value:function(){return Object(qt.jsx)("div",{className:"main-navbar",children:Object(qt.jsxs)(la.o,{className:"align-items-stretch bg-white flex-md-nowrap border-bottom p-0",type:"light",children:[Object(qt.jsx)(la.p,{className:"w-100 mr-0",href:"#",style:{lineHeight:"25px"},children:Object(qt.jsx)("div",{className:"d-table m-auto",children:Object(qt.jsx)(g.a,{alt:"LinkD",src:"https://www.kindpng.com/picc/m/256-2564683_transparent-link-website-transparent-website-link-logo-hd.png"})})}),Object(qt.jsx)("a",{className:"toggle-sidebar d-sm-inline d-md-none d-lg-none",onClick:this.handleToggleSidebar,children:Object(qt.jsx)("i",{className:"material-icons",children:"\ue5c4"})})]})})}}]),a}(i.a.Component);Gn.defaultProps={hideLogoText:!1};var Qn=Gn,Wn=function(e){var t=e.item;return Object(qt.jsx)(la.m,{children:Object(qt.jsxs)(la.n,{tag:An.c,className:"link-items",to:t.to,children:[t.htmlBefore&&Object(qt.jsx)("div",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlBefore}}),t.title&&Object(qt.jsx)("span",{children:t.title}),t.htmlAfter&&Object(qt.jsx)("div",{className:"d-inline-block item-icon-wrapper",dangerouslySetInnerHTML:{__html:t.htmlAfter}})]})})},Kn=function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(e){var n;return Object(rn.a)(this,a),(n=t.call(this,e)).state={navItems:zn.getSidebarItems()},n.onChange=n.onChange.bind(Object(Nn.a)(n)),n}return Object(sn.a)(a,[{key:"componentDidMount",value:function(){zn.addChangeListener(this.onChange)}},{key:"componentWillUnmount",value:function(){zn.removeChangeListener(this.onChange)}},{key:"onChange",value:function(){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{navItems:zn.getSidebarItems()}))}},{key:"render",value:function(){var e=this.state.navItems;return Object(qt.jsx)("div",{className:"nav-wrapper",children:Object(qt.jsx)(la.l,{className:"nav--no-borders flex-column",children:e.map((function(e,t){return Object(qt.jsx)(Wn,{item:e},t)}))})})}}]),a}(i.a.Component),Jn=function(e){Object(cn.a)(a,e);var t=Object(on.a)(a);function a(e){var n;return Object(rn.a)(this,a),(n=t.call(this,e)).state={menuVisible:!1,sidebarNavItems:zn.getSidebarItems()},n.onChange=n.onChange.bind(Object(Nn.a)(n)),n}return Object(sn.a)(a,[{key:"componentDidMount",value:function(){zn.addChangeListener(this.onChange)}},{key:"componentWillUnmount",value:function(){zn.removeChangeListener(this.onChange)}},{key:"onChange",value:function(){this.setState(Object(o.a)(Object(o.a)({},this.state),{},{menuVisible:zn.getMenuState(),sidebarNavItems:zn.getSidebarItems()}))}},{key:"render",value:function(){var e=oa()("main-sidebar","px-0","col-12",this.state.menuVisible&&"open");return Object(qt.jsxs)(la.e,{tag:"aside",className:e,lg:{size:2},md:{size:3},children:[Object(qt.jsx)(Qn,{hideLogoText:this.props.hideLogoText}),Object(qt.jsx)(Kn,{})]})}}]),a}(i.a.Component);Jn.defaultProps={hideLogoText:!1};var Xn=Jn,Zn=function(e){var t=e.contained,a=e.menuItems,n=e.copyright;return Object(qt.jsx)("footer",{className:"main-footer d-flex p-2 px-3 bg-white border-top",children:Object(qt.jsx)(la.g,{fluid:t,children:Object(qt.jsx)(la.q,{children:Object(qt.jsxs)(la.l,{children:[a.map((function(e,t){return Object(qt.jsx)(la.m,{children:Object(qt.jsx)(la.n,{tag:An.b,to:e.to,children:e.title})},t)})),Object(qt.jsx)("span",{style:{textAlign:"center"},className:"copyright ml-auto my-auto mr-2",children:n})]})})})})};Zn.defaultProps={contained:!1,copyright:"Tout droits r\xe9serv\xe9s Multiprod Tunisia en partenariat Pro LV Maroc. \xa9 2021",menuItems:[{title:"Dashboard",to:"/dashboard"},{title:"Initiation Action",to:"#"}]};var $n=Zn,ei=a(313),ti=a.n(ei)()("http://localhost:3001",{transports:["websocket","polling"]}),ai=function(e){var t=e.children,a=e.noNavbar,i=e.noFooter,r=Object(u.c)(),s=Object(u.d)((function(e){return e.authReducer.user})),c=Object(u.d)((function(e){return e.notificationsReducer.notifications_VM_supervisor})),o=Object(u.d)((function(e){return e.notificationsReducer.notifications_DSM_supervisor})),l=Object(u.d)((function(e){return e.notificationsReducer.notifications_CDP_supervisor})),d=Object(u.d)((function(e){return e.notesReducer.notesActionSender}));Object(n.useEffect)((function(){ti.on("ACTION-VALIDATION",(function(e){p()}))}),[]),Object(n.useEffect)((function(){p()}),[]);var p=function(){var e=Object(h.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.length&&("VM"===s[0].user_position?r(en(s[0].user_id)):"DSM"===s[0].user_position?r(tn(s[0].user_id)):"CDP"===s[0].user_position&&r(an(s[0].user_id)));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(qt.jsx)(la.g,{fluid:!0,children:Object(qt.jsxs)(la.q,{children:[Object(qt.jsx)(Xn,{}),Object(qt.jsxs)(la.e,{className:"main-content p-0",lg:{size:10,offset:2},md:{size:9,offset:3},sm:"12",tag:"main",children:[!a&&Object(qt.jsx)(qn,{notes:d,VM_notif:c,DSM_notif:o,CDP_notif:l}),t,!i&&Object(qt.jsx)($n,{})]})]})})};ai.defaultProps={noNavbar:!1,noFooter:!1};var ni=ai,ii=(a(552),a(553),a(554),["component","authenticated"]),ri=["component","authenticated","layout"],si=function(){var e=Object(u.d)((function(e){return e.authReducer.isAuthenticated}));return Object(qt.jsxs)(d.d,{children:[Object(qt.jsx)(d.b,{exact:!0,path:"/",children:e?Object(qt.jsx)(d.a,{to:"/dashboard"}):Object(qt.jsx)(d.a,{to:"/login"})}),Object(qt.jsx)(ci,{authenticated:e,component:Xt,path:"/login"}),Object(qt.jsx)(ci,{authenticated:e,component:Wt,path:"/signup"}),Object(qt.jsx)(ci,{authenticated:e,component:$t,path:"/forgot"}),Object(qt.jsx)(ci,{authenticated:e,component:aa,path:"/reset/:resetPasswordToken"}),Object(qt.jsx)(oi,{authenticated:e,component:In,path:"/dashboard",layout:ni}),Object(qt.jsx)(oi,{authenticated:e,component:Ma,path:"/initiation-action",layout:ni}),Object(qt.jsx)(oi,{authenticated:e,component:Ba,path:"/monitoring-action",layout:ni}),Object(qt.jsx)(oi,{authenticated:e,component:vn,path:"/display-action/:id",layout:ni}),Object(qt.jsx)(oi,{authenticated:e,component:Ya,path:"/action-validation",layout:ni}),Object(qt.jsx)(oi,{authenticated:e,component:Qa,path:"/after-validation",layout:ni}),Object(qt.jsx)(oi,{authenticated:e,component:Ka,path:"/action-archiving",layout:ni}),Object(qt.jsx)(oi,{authenticated:e,component:gn,path:"/edit-user-profile",layout:ni}),Object(qt.jsx)(oi,{authenticated:e,component:Za,path:"/all-notifications",layout:ni})]})},ci=function(e){var t=e.component,a=e.authenticated,n=Object(l.a)(e,ii);return Object(qt.jsx)(d.b,Object(o.a)(Object(o.a)({},n),{},{exact:!0,render:function(e){return a?Object(qt.jsx)(d.a,{to:"/dashboard"}):Object(qt.jsx)(t,Object(o.a)({},e))}}))},oi=function(e){var t=e.component,a=e.authenticated,i=e.layout,r=Object(l.a)(e,ri),s=Object(n.useState)(a),u=Object(c.a)(s,2),p=u[0],j=u[1];return Object(n.useEffect)((function(){j(a)}),[a]),Object(qt.jsx)(d.b,Object(o.a)(Object(o.a)({},r),{},{exact:!0,render:function(e){return p?Object(qt.jsx)(i,{children:Object(qt.jsx)(t,Object(o.a)({},e))}):Object(qt.jsx)(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},li=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,629)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)}))},di=a(49),ui=Object(di.a)(),pi=localStorage.getItem("LinkD"),ji=localStorage.getItem("user_id"),hi=function(e){var t=e.children,a=(e.props,Object(u.c)()),i=Object(u.d)((function(e){return e.authReducer})).isLoading;return Object(n.useEffect)((function(){pi&&a(wt(ji))}),[a]),Object(qt.jsx)(qt.Fragment,{children:i?Object(qt.jsx)(sa.a,{color:"primary"}):t})};s.a.render(Object(qt.jsx)(u.a,{store:Nt,children:Object(qt.jsx)(hi,{children:Object(qt.jsx)(An.a,{children:Object(qt.jsx)(si,{})})})}),document.getElementById("root")),li()}},[[555,1,2]]]);
//# sourceMappingURL=main.4c731d32.chunk.js.map